<!DOCTYPE html>
<html lang="en-us">
  <head>
    
    <script type="application/ld+json">

{  
  "@context":"http://schema.org",
  "@type":"Website",
  "@id":"https:\/\/Nico-Casarin.github.io",
  "author": {
    "@type": "Person",
    "name": "Nicola Casarin",
    
  },
  "name":"Nico Casarin personal blog",
  "description":"Was it me? Was it you? Brief analysis of the twitting behaviour of an (in)famous Twitter star.",
  "url":"https:\/\/Nico-Casarin.github.io\/post\/covfefe\/covfefe\/",
  "keywords":"[]"
}

</script>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="generator" content="Hugo 0.89.4 with theme Tranquilpeak 0.5.3-BETA">
<meta name="author" content="Nicola Casarin">
<meta name="keywords" content="">
<meta name="description" content="Was it me? Was it you? Brief analysis of the twitting behaviour of an (in)famous Twitter star.">


<meta property="og:description" content="Was it me? Was it you? Brief analysis of the twitting behaviour of an (in)famous Twitter star.">
<meta property="og:type" content="article">
<meta property="og:title" content="Covfefe">
<meta name="twitter:title" content="Covfefe">
<meta property="og:url" content="https://Nico-Casarin.github.io/post/covfefe/covfefe/">
<meta property="twitter:url" content="https://Nico-Casarin.github.io/post/covfefe/covfefe/">
<meta property="og:site_name" content="Nico Casarin personal blog">
<meta property="og:description" content="Was it me? Was it you? Brief analysis of the twitting behaviour of an (in)famous Twitter star.">
<meta name="twitter:description" content="Was it me? Was it you? Brief analysis of the twitting behaviour of an (in)famous Twitter star.">
<meta property="og:locale" content="en">

  
    <meta property="article:published_time" content="2022-01-21T00:00:00">
  
  
    <meta property="article:modified_time" content="2022-01-21T00:00:00">
  
  
  
  


<meta name="twitter:card" content="summary">












    <title>Covfefe</title>

    <link rel="icon" href="https://Nico-Casarin.github.io/favicon.png">
    

    

    <link rel="canonical" href="https://Nico-Casarin.github.io/post/covfefe/covfefe/">

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" integrity="sha512-iBBXm8fW90+nuLcSKlbmrPcLa0OT92xO1BIsZ+ywDWZCvqsWgccV3gFoRBv0z+8dLJgyAHIhR35VZc2oM/gI1w==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css" integrity="sha512-H9jrZiiopUdsLpg94A333EfumgUBpO9MdbxStdeITo+KEIMaNfHNvwyjjDJb+ERPaRS6DpyRlKbvPUasNItRyw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    
    
    
    <link rel="stylesheet" href="https://Nico-Casarin.github.io/css/style-h6ccsoet3mzkbb0wngshlfbaweimexgqcxj0h5hu4h82olsdzz6wmqdkajm.min.css" />
    
    

    
      
    
    
  </head>

  <body>
    <div id="blog">
      <header id="header" data-behavior="5">
  <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
  <div class="header-title">
    <a class="header-title-link" href="https://Nico-Casarin.github.io/" aria-label="">Nico Casarin personal blog</a>
  </div>
  
    
      <a class="header-right-picture "
         href="https://Nico-Casarin.github.io/#about" aria-label="">
    
    
    
      
    
    </a>
  
</header>

      <nav id="sidebar" data-behavior="5">
  <div class="sidebar-container">
    
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://Nico-Casarin.github.io/" title="Home">
    
      <i class="sidebar-button-icon fas fa-lg fa-home" aria-hidden="true"></i>
      
      <span class="sidebar-button-desc">Home</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://Nico-Casarin.github.io/categories" title="Categories">
    
      <i class="sidebar-button-icon fas fa-lg fa-bookmark" aria-hidden="true"></i>
      
      <span class="sidebar-button-desc">Categories</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://Nico-Casarin.github.io/tags" title="Tags">
    
      <i class="sidebar-button-icon fas fa-lg fa-tags" aria-hidden="true"></i>
      
      <span class="sidebar-button-desc">Tags</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://Nico-Casarin.github.io/archives" title="Archives">
    
      <i class="sidebar-button-icon fas fa-lg fa-archive" aria-hidden="true"></i>
      
      <span class="sidebar-button-desc">Archives</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://Nico-Casarin.github.io/#about" title="About">
    
      <i class="sidebar-button-icon fas fa-lg fa-question" aria-hidden="true"></i>
      
      <span class="sidebar-button-desc">About</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://github.com/Nico-Casarin" target="_blank" rel="noopener" title="GitHub">
    
      <i class="sidebar-button-icon fab fa-lg fa-github" aria-hidden="true"></i>
      
      <span class="sidebar-button-desc">GitHub</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      

    </ul>
  </div>
</nav>

      

      <div id="main" data-behavior="5"
        class="
               hasCoverMetaIn
               ">
        <article class="post" id="top">
          
          
            <div class="post-header main-content-wrap text-left">
  
    <h1 class="post-title">
      Covfefe
    </h1>
  
  
  <div class="postShorten-meta post-meta">
    
      <time datetime="2022-01-21T00:00:00Z">
        
  
  
  
  
    21  2022
  

      </time>
    
    
  </div>

</div>
          
          <div class="post-content markdown">
            <div class="main-content-wrap">
              <h1 id="final-assignment-for-data-analysis-class-2021">Final Assignment for Data Analysis class 2021</h1>
<h1 id="table-of-contents">Table of Contents</h1>
<ol>
<li><a href="#prep">Libraries loading</a></li>
<li><a href="#ex3">Exercise 3</a>
<ol>
<li><a href="#30">Data import</a></li>
<li><a href="#31">Three exploratory plots</a>
<ul>
<li><a href="#311">Overall distribution</a></li>
<li><a href="#312">Hourly distribution</a></li>
<li><a href="#313">Bad or Good?</a></li>
</ul>
</li>
<li><a href="#32">Trump or Staff?</a></li>
<li><a href="#33">Rregression analysis</a></li>
<li><a href="#34">Different periods -&gt; different beheaviours?</a></li>
</ol>
</li>
<li><a href="#ex4">Exercise 4</a></li>
</ol>
<h1 id="preparatory-work-a-nameprepa">Preparatory work <a name="prep"></a></h1>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span><span class='nv'>libs</span> <span class='o'>&lt;-</span> <span class='nf'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='o'>(</span><span class='s'>"tidyverse"</span>,<span class='s'>"rio"</span>,<span class='s'>"lubridate"</span>,<span class='s'>"tidytext"</span>,<span class='s'>"stringr"</span>,<span class='s'>"wordcloud"</span>,<span class='s'>"fmsb"</span>,<span class='s'>"scales"</span>,<span class='s'>"sjmisc"</span>,<span class='s'>"sjPlot"</span>, <span class='s'>"ggpubr"</span><span class='o'>)</span></span>
<span><span class='nf'><a href='https://rdrr.io/r/base/invisible.html'>invisible</a></span><span class='o'>(</span><span class='nf'><a href='https://rdrr.io/r/base/lapply.html'>lapply</a></span><span class='o'>(</span><span class='nv'>libs</span>, <span class='nv'>library</span>, character.only <span class='o'>=</span> <span class='kc'>T</span><span class='o'>)</span><span class='o'>)</span></span></code></pre>
</div>
<h1 id="exercise-3-a-nameex3a">Exercise 3 <a name="ex3"></a></h1>
<h2 id="30-data-import-text-mining-a-name30a">3.0 Data import/ text mining <a name='30'></a></h2>
<p>We&rsquo;ll use Trump&rsquo;s Tweets dataset, which includes tweets from 2009 to 2017.</p>
<h2 id="31-a-name31a">3.1 <a name='31'></a></h2>
<h3 id="311-overall-distribution-a-name311a">3.1.1 Overall distribution <a name='311'></a></h3>
<p>In the first instance, we can take a look at the density of the tweets throughout the period in analysis.</p>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span><span class='nv'>trump</span> <span class='o'>&lt;-</span> <span class='nv'>trump</span> <span class='o'>%&gt;%</span> </span>
<span>  <span class='nf'>mutate</span><span class='o'>(</span>date <span class='o'>=</span> <span class='nf'><a href='https://rdrr.io/r/base/ISOdatetime.html'>ISOdate</a></span><span class='o'>(</span><span class='nv'>year</span>, <span class='nv'>month</span>, <span class='nv'>day</span>, <span class='nv'>hour</span><span class='o'>)</span><span class='o'>)</span></span>
<span><span class='nf'>ggplot</span><span class='o'>(</span><span class='nv'>trump</span>, <span class='nf'>aes</span><span class='o'>(</span>x<span class='o'>=</span><span class='nv'>date</span><span class='o'>)</span><span class='o'>)</span> <span class='o'>+</span> </span>
<span> <span class='nf'>geom_histogram</span><span class='o'>(</span><span class='nf'>aes</span><span class='o'>(</span>y<span class='o'>=</span><span class='nv'>..density..</span><span class='o'>)</span>, colour<span class='o'>=</span><span class='s'>"black"</span>, fill<span class='o'>=</span><span class='s'>"white"</span>, bins <span class='o'>=</span> <span class='m'>200</span><span class='o'>)</span><span class='o'>+</span></span>
<span> <span class='nf'>geom_density</span><span class='o'>(</span>alpha<span class='o'>=</span><span class='m'>.2</span>, fill<span class='o'>=</span><span class='s'>"#bc5090"</span><span class='o'>)</span> </span></code></pre>
<img src="images/freqpoly-1.png" width="700px" style="display: block; margin: auto;" />
</div>
<p>The density ploy highlights that a major rise occurred after mid-2011 and a general drop after 2016. Also, around early 2015 there was a constant high-rate tweeting period, but the histogram points out the highest peaks, although isolated, occurred early and mid-2015. This plot allows us to understand the tweets frequency over the whole time gathered in the dataset.</p>
<h3 id="312-hourly-distribution-a-name312a">3.1.2 Hourly distribution <a name='312'></a></h3>
<p>Since we know the timestamp for each tweet, we can point out the presence of some publishing pattern.</p>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span><span class='nv'>trump</span> <span class='o'>&lt;-</span> <span class='nv'>trump</span> <span class='o'>%&gt;%</span> </span>
<span>  <span class='nf'>mutate</span><span class='o'>(</span>weekday <span class='o'>=</span> <span class='nf'><a href='https://rdrr.io/r/base/format.html'>format</a></span><span class='o'>(</span><span class='nv'>trump</span><span class='o'>$</span><span class='nv'>date</span>, <span class='s'>'%A'</span>, locale <span class='o'>=</span> <span class='nf'>locale</span><span class='o'>(</span><span class='s'>"UK"</span><span class='o'>)</span><span class='o'>)</span>,</span>
<span>         weekday <span class='o'>=</span> <span class='nf'><a href='https://rdrr.io/r/base/factor.html'>ordered</a></span><span class='o'>(</span><span class='nv'>weekday</span>, </span>
<span>                           levels<span class='o'>=</span> <span class='nf'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='o'>(</span><span class='s'>"Monday"</span>, <span class='s'>"Tuesday"</span>, <span class='s'>"Wednesday"</span>, <span class='s'>"Thursday"</span>, <span class='s'>"Friday"</span>, <span class='s'>"Saturday"</span>, <span class='s'>"Sunday"</span><span class='o'>)</span><span class='o'>)</span><span class='o'>)</span></span>
<span></span>
<span><span class='nv'>trump</span> <span class='o'>%&gt;%</span> </span>
<span>  <span class='nf'>group_by</span><span class='o'>(</span><span class='nv'>weekday</span>, <span class='nv'>hour</span><span class='o'>)</span>  <span class='o'>%&gt;%</span></span>
<span>  <span class='nf'>summarise</span><span class='o'>(</span>n <span class='o'>=</span> <span class='nf'>n</span><span class='o'>(</span><span class='o'>)</span><span class='o'>)</span> <span class='o'>%&gt;%</span> </span>
<span>  <span class='nf'>mutate</span><span class='o'>(</span>tweet <span class='o'>=</span> <span class='nv'>n</span><span class='o'>/</span><span class='nf'><a href='https://rdrr.io/r/base/sum.html'>sum</a></span><span class='o'>(</span><span class='nv'>n</span><span class='o'>)</span><span class='o'>*</span><span class='m'>100</span><span class='o'>)</span>  <span class='o'>%&gt;%</span></span>
<span>  <span class='nf'>summarise</span><span class='o'>(</span><span class='nv'>tweet</span>, <span class='nv'>hour</span><span class='o'>)</span> <span class='o'>%&gt;%</span> </span>
<span>  <span class='nf'>ggplot</span><span class='o'>(</span><span class='o'>)</span><span class='o'>+</span></span>
<span>  <span class='nf'>geom_line</span><span class='o'>(</span><span class='nf'>aes</span><span class='o'>(</span>y<span class='o'>=</span><span class='nv'>tweet</span>,x<span class='o'>=</span><span class='nv'>hour</span><span class='o'>)</span>, </span>
<span>            stat <span class='o'>=</span> <span class='s'>'identity'</span><span class='o'>)</span><span class='o'>+</span></span>
<span>  <span class='nf'>facet_wrap</span><span class='o'>(</span><span class='o'>~</span> <span class='nv'>weekday</span><span class='o'>)</span> <span class='o'>+</span> </span>
<span>  <span class='nf'>ylab</span><span class='o'>(</span>label <span class='o'>=</span> <span class='s'>"Daily distribution"</span><span class='o'>)</span></span></code></pre>
<img src="images/weekday_recode-1.png" width="700px" style="display: block; margin: auto;" />
</div>
<p>The results evidence a clear pattern: Monday to Friday, the tweets' pattern show a decrease from the first hours of the day to the early morning, but after 10 A.M. there is a strong increase that peaks around 8 P.M. Saturday and Sunday follow a &ldquo;double-u&rdquo; pattern, which peaks around 2 A.M., 12 P.M. and 10 P.M.</p>
<h3 id="313-bad-or-good-a-name313a">3.1.3 Bad or Good? <a name='313'></a></h3>
<p>Furthermore, we can take a look at the top ten positive and negative words used in the tweets. For doing so, we must split the text variable in one word per row, and assign each word a sentiment value. As indicator for sentiment, we&rsquo;ll use the Bing lexicon:</p>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span><span class='nv'>word_counts</span> <span class='o'>&lt;-</span> <span class='nv'>trump</span> <span class='o'>%&gt;%</span> </span>
<span>  <span class='nf'>unnest_tokens</span><span class='o'>(</span><span class='nv'>word</span>, <span class='nv'>text</span><span class='o'>)</span></span>
<span></span>
<span><span class='nv'>word_counts</span> <span class='o'>&lt;-</span> <span class='nv'>word_counts</span> <span class='o'>%&gt;%</span> </span>
<span>  <span class='nf'>inner_join</span><span class='o'>(</span><span class='nf'>get_sentiments</span><span class='o'>(</span><span class='s'>'bing'</span><span class='o'>)</span><span class='o'>)</span> <span class='o'>%&gt;%</span> </span>
<span>  <span class='nf'>count</span><span class='o'>(</span><span class='nv'>word</span>, <span class='nv'>sentiment</span>, sort <span class='o'>=</span> <span class='kc'>T</span><span class='o'>)</span> <span class='o'>%&gt;%</span> </span>
<span>  <span class='nf'>ungroup</span><span class='o'>(</span><span class='o'>)</span></span>
<span><span class='nv'>word_counts</span> <span class='o'>%&gt;%</span> </span>
<span>  <span class='nf'>group_by</span><span class='o'>(</span><span class='nv'>sentiment</span><span class='o'>)</span> <span class='o'>%&gt;%</span> </span>
<span>  <span class='nf'>top_n</span><span class='o'>(</span><span class='m'>10</span><span class='o'>)</span> <span class='o'>%&gt;%</span> </span>
<span>  <span class='nf'>ungroup</span><span class='o'>(</span><span class='o'>)</span> <span class='o'>%&gt;%</span> </span>
<span>  <span class='nf'>mutate</span><span class='o'>(</span>word <span class='o'>=</span> <span class='nf'><a href='https://rdrr.io/r/stats/reorder.factor.html'>reorder</a></span><span class='o'>(</span><span class='nv'>word</span>, <span class='nv'>n</span><span class='o'>)</span><span class='o'>)</span> <span class='o'>%&gt;%</span> </span>
<span>  <span class='nf'>ggplot</span><span class='o'>(</span><span class='nf'>aes</span><span class='o'>(</span><span class='nv'>word</span>, <span class='nv'>n</span> ,fill <span class='o'>=</span> <span class='nv'>sentiment</span><span class='o'>)</span><span class='o'>)</span><span class='o'>+</span></span>
<span>  <span class='nf'>geom_col</span><span class='o'>(</span><span class='o'>)</span><span class='o'>+</span></span>
<span>  <span class='nf'>facet_wrap</span><span class='o'>(</span><span class='o'>~</span><span class='nv'>sentiment</span>, scales <span class='o'>=</span> <span class='s'>"free_y"</span><span class='o'>)</span><span class='o'>+</span></span>
<span>  <span class='nf'>labs</span><span class='o'>(</span>x <span class='o'>=</span> <span class='kc'>NULL</span>, y<span class='o'>=</span> <span class='s'>"Count"</span><span class='o'>)</span><span class='o'>+</span></span>
<span>  <span class='nf'>coord_flip</span><span class='o'>(</span><span class='o'>)</span></span></code></pre>
<img src="images/bad_or_good-1.png" width="700px" style="display: block; margin: auto;" />
</div>
<p>Interesting, but not surprising, to note that the most used positive word is <em>trump</em>. It looks like our subject could have some attention-seeking problems! Anyways, in this case, the word is coded as positive only because of the <a href="https://www.merriam-webster.com/dictionary/trump">meaning</a> of that word. This simple, but still informative plot, allows us to understand the basic tendency in the words of the tweets. However, this is a very basic one. For example, further analysis could explore the top bigrams to a deeper understanding of the relationship between the words, or we could calculate the tf-idf statistics to understand the most relevant keywords!</p>
<h2 id="32-a-name32a">3.2 <a name='32'></a></h2>
<h3 id="321">3.2.1</h3>
<p>We now procede to recode the variable <em>source</em> in 3 categories: (1) Android, (2) iPhone, (3) Other.</p>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span><span class='nv'>trump</span> <span class='o'>&lt;-</span> <span class='nv'>trump</span> <span class='o'>%&gt;%</span> </span>
<span>  <span class='nf'>mutate</span><span class='o'>(</span>source_rec <span class='o'>=</span> <span class='nf'><a href='https://rdrr.io/r/base/ifelse.html'>ifelse</a></span><span class='o'>(</span><span class='nv'>source</span> <span class='o'>==</span> <span class='s'>'Twitter for Android'</span>, <span class='s'>"1"</span> ,</span>
<span>                             <span class='nf'><a href='https://rdrr.io/r/base/ifelse.html'>ifelse</a></span><span class='o'>(</span><span class='nv'>source</span> <span class='o'>==</span> <span class='s'>'Twitter for iPhone'</span>, <span class='s'>"2"</span> ,<span class='s'>"3"</span><span class='o'>)</span><span class='o'>)</span><span class='o'>)</span></span></code></pre>
</div>
<h3 id="322">3.2.2</h3>
<p>Grouping by the two sources, DT&rsquo;s Android and Staff&rsquo;s iPhone, we sum the positive, negative e total words. Then, using a lambda function from purrr package, we divide the total positive and negative words by the total words used, for each source. For aesthetic purposes, we can reshape the resulting dataset to a long shape, instead of a wide one. Using the pivot-longer function we can select the columns to reshape, choose the names variable and the values one:</p>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span><span class='nv'>sentiment</span> <span class='o'>&lt;-</span> <span class='nv'>trump</span> <span class='o'>%&gt;%</span></span>
<span>  <span class='nf'>group_by</span><span class='o'>(</span><span class='nv'>source_rec</span><span class='o'>)</span> <span class='o'>%&gt;%</span> </span>
<span>  <span class='nf'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='o'>(</span><span class='nv'>source_rec</span> <span class='o'>!=</span> <span class='m'>3</span><span class='o'>)</span> <span class='o'>%&gt;%</span> </span>
<span>  <span class='nf'>summarise</span><span class='o'>(</span><span class='nf'>across</span><span class='o'>(</span></span>
<span>    .cols <span class='o'>=</span> <span class='nf'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='o'>(</span><span class='nv'>positive</span>, <span class='nv'>negative</span>, <span class='nv'>tot_words</span><span class='o'>)</span>,</span>
<span>    .fns <span class='o'>=</span> <span class='nf'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='o'>(</span>sum <span class='o'>=</span> <span class='nv'>sum</span><span class='o'>)</span>, na.rm <span class='o'>=</span><span class='kc'>T</span>,</span>
<span>    .names <span class='o'>=</span> <span class='s'>"&#123;col&#125;"</span></span>
<span>  <span class='o'>)</span><span class='o'>)</span> <span class='o'>%&gt;%</span> </span>
<span>  <span class='nf'>mutate</span><span class='o'>(</span><span class='nf'>across</span><span class='o'>(</span></span>
<span>    .cols <span class='o'>=</span> <span class='nf'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='o'>(</span><span class='nv'>positive</span>, <span class='nv'>negative</span><span class='o'>)</span>,</span>
<span>    .fns <span class='o'>=</span> <span class='o'>~</span> <span class='nv'>.x</span> <span class='o'>/</span> <span class='nv'>tot_words</span>,</span>
<span>    .names <span class='o'>=</span> <span class='s'>"&#123;col&#125;"</span></span>
<span>  <span class='o'>)</span><span class='o'>)</span> <span class='o'>%&gt;%</span> </span>
<span>  <span class='nf'>pivot_longer</span><span class='o'>(</span><span class='nv'>positive</span><span class='o'>:</span><span class='nv'>negative</span>,</span>
<span>         names_to <span class='o'>=</span> <span class='s'>"sentiment"</span>,</span>
<span>         values_to <span class='o'>=</span> <span class='s'>"sentiment_ratio"</span><span class='o'>)</span></span></code></pre>
</div>
<p>Finally, we can plot the resulting dataset:</p>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span><span class='nf'>ggplot</span><span class='o'>(</span><span class='nv'>sentiment</span>, <span class='nf'>aes</span><span class='o'>(</span>x<span class='o'>=</span><span class='nv'>sentiment</span>,y<span class='o'>=</span><span class='nv'>sentiment_ratio</span>, fill<span class='o'>=</span><span class='nf'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span><span class='o'>(</span><span class='nv'>source_rec</span><span class='o'>)</span><span class='o'>)</span><span class='o'>)</span><span class='o'>+</span></span>
<span>  <span class='nf'>geom_bar</span><span class='o'>(</span>position <span class='o'>=</span> <span class='s'>"dodge"</span>, stat <span class='o'>=</span> <span class='s'>"identity"</span><span class='o'>)</span><span class='o'>+</span></span>
<span>  <span class='nf'>scale_x_discrete</span><span class='o'>(</span>labels<span class='o'>=</span> <span class='nf'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='o'>(</span><span class='s'>"Negative"</span>,<span class='s'>"Positive"</span><span class='o'>)</span><span class='o'>)</span><span class='o'>+</span></span>
<span>  <span class='nf'>ylab</span><span class='o'>(</span><span class='s'>"Ratio over total words"</span><span class='o'>)</span><span class='o'>+</span></span>
<span>  <span class='nf'>scale_fill_manual</span><span class='o'>(</span>values <span class='o'>=</span> <span class='nf'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='o'>(</span><span class='s'>"#3DDC84"</span>, <span class='s'>'#555555'</span><span class='o'>)</span>,labels <span class='o'>=</span> <span class='nf'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='o'>(</span><span class='s'>"Android"</span>, <span class='s'>"iPhone"</span><span class='o'>)</span><span class='o'>)</span><span class='o'>+</span></span>
<span>  <span class='nf'>labs</span><span class='o'>(</span>fill<span class='o'>=</span><span class='s'>'Twitting device'</span><span class='o'>)</span><span class='o'>+</span></span>
<span>  <span class='nf'>scale_y_continuous</span><span class='o'>(</span>labels <span class='o'>=</span> <span class='nf'>scales</span><span class='nf'>::</span><span class='nv'><a href='https://scales.r-lib.org/reference/percent_format.html'>percent</a></span><span class='o'>)</span></span></code></pre>
<img src="images/Sentiment_plot-1.png" width="700px" style="display: block; margin: auto;" />
</div>
<h3 id="323">3.2.3</h3>
<p>For the emotional language, we apply the same procedure used for the sentiments but select the others variables:</p>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span><span class='nv'>emotion</span> <span class='o'>&lt;-</span> <span class='nv'>trump</span> <span class='o'>%&gt;%</span> </span>
<span>  <span class='nf'>group_by</span><span class='o'>(</span><span class='nv'>source_rec</span><span class='o'>)</span> <span class='o'>%&gt;%</span> </span>
<span>  <span class='nf'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='o'>(</span><span class='nv'>source_rec</span> <span class='o'>!=</span> <span class='m'>3</span><span class='o'>)</span> <span class='o'>%&gt;%</span> </span>
<span>  <span class='nf'>summarise</span><span class='o'>(</span><span class='nf'>across</span><span class='o'>(</span></span>
<span>    .cols <span class='o'>=</span> <span class='nf'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='o'>(</span><span class='nv'>anger</span><span class='o'>:</span><span class='nv'>trust</span>, <span class='nv'>tot_words</span><span class='o'>)</span>,</span>
<span>    .fns <span class='o'>=</span> <span class='nf'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='o'>(</span>sum <span class='o'>=</span> <span class='nv'>sum</span><span class='o'>)</span>, na.rm <span class='o'>=</span><span class='kc'>T</span>,</span>
<span>    .names <span class='o'>=</span> <span class='s'>"&#123;col&#125;"</span></span>
<span>  <span class='o'>)</span><span class='o'>)</span> <span class='o'>%&gt;%</span></span>
<span>    <span class='nf'>mutate</span><span class='o'>(</span><span class='nf'>across</span><span class='o'>(</span></span>
<span>    .cols <span class='o'>=</span> <span class='nf'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='o'>(</span><span class='nv'>anger</span><span class='o'>:</span><span class='nv'>trust</span><span class='o'>)</span>,</span>
<span>    .fns <span class='o'>=</span> <span class='o'>~</span> <span class='nv'>.x</span> <span class='o'>/</span> <span class='nv'>tot_words</span>,</span>
<span>    .names <span class='o'>=</span> <span class='s'>"&#123;col&#125;"</span></span>
<span>  <span class='o'>)</span><span class='o'>)</span> <span class='o'>%&gt;%</span> </span>
<span>   <span class='nf'>pivot_longer</span><span class='o'>(</span></span>
<span>     <span class='nv'>anger</span><span class='o'>:</span><span class='nv'>trust</span>,</span>
<span>     names_to <span class='o'>=</span> <span class='s'>"emotion"</span>,</span>
<span>     values_to <span class='o'>=</span> <span class='s'>"emotion_ratio"</span><span class='o'>)</span></span></code></pre>
</div>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span><span class='nf'>ggplot</span><span class='o'>(</span><span class='nv'>emotion</span>, <span class='nf'>aes</span><span class='o'>(</span>x<span class='o'>=</span><span class='nv'>emotion</span>, y<span class='o'>=</span><span class='nv'>emotion_ratio</span>, fill<span class='o'>=</span><span class='nf'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span><span class='o'>(</span><span class='nv'>source_rec</span><span class='o'>)</span><span class='o'>)</span><span class='o'>)</span><span class='o'>+</span></span>
<span>  <span class='nf'>geom_bar</span><span class='o'>(</span>position <span class='o'>=</span> <span class='s'>"dodge"</span>, stat <span class='o'>=</span> <span class='s'>"identity"</span><span class='o'>)</span><span class='o'>+</span></span>
<span>  <span class='nf'>ylab</span><span class='o'>(</span><span class='s'>"Ratio over total words"</span><span class='o'>)</span><span class='o'>+</span></span>
<span>  <span class='nf'>labs</span><span class='o'>(</span>fill<span class='o'>=</span><span class='s'>"Twitting device"</span><span class='o'>)</span><span class='o'>+</span></span>
<span>  <span class='nf'>scale_y_continuous</span><span class='o'>(</span>labels <span class='o'>=</span> <span class='nf'>scales</span><span class='nf'>::</span><span class='nv'><a href='https://scales.r-lib.org/reference/percent_format.html'>percent</a></span><span class='o'>)</span><span class='o'>+</span></span>
<span>  <span class='nf'>scale_fill_manual</span><span class='o'>(</span>values <span class='o'>=</span> <span class='nf'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='o'>(</span><span class='s'>"#3DDC84"</span>, <span class='s'>"#555555"</span><span class='o'>)</span>,</span>
<span>                    labels <span class='o'>=</span> <span class='nf'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='o'>(</span><span class='s'>"Android"</span>, <span class='s'>"iPhone"</span><span class='o'>)</span><span class='o'>)</span></span></code></pre>
<img src="images/Emotions_plot-1.png" width="700px" style="display: block; margin: auto;" />
</div>
<h3 id="324">3.2.4</h3>
<p>Whose tweets get more &ldquo;likes&rdquo; (or &ldquo;favorites&rdquo;) and more retweets?</p>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span><span class='nv'>trump</span> <span class='o'>%&gt;%</span> </span>
<span>  <span class='nf'>group_by</span><span class='o'>(</span><span class='nv'>source_rec</span><span class='o'>)</span> <span class='o'>%&gt;%</span> </span>
<span>  <span class='nf'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='o'>(</span><span class='nv'>source_rec</span> <span class='o'>!=</span> <span class='m'>3</span><span class='o'>)</span> <span class='o'>%&gt;%</span> </span>
<span>  <span class='nf'>summarise</span><span class='o'>(</span>count <span class='o'>=</span> <span class='nf'>n</span><span class='o'>(</span><span class='o'>)</span>,fav <span class='o'>=</span> <span class='nf'><a href='https://rdrr.io/r/base/sum.html'>sum</a></span><span class='o'>(</span><span class='nv'>favorite_count</span><span class='o'>)</span>, ret <span class='o'>=</span> <span class='nf'><a href='https://rdrr.io/r/base/sum.html'>sum</a></span><span class='o'>(</span><span class='nv'>retweet_count</span><span class='o'>)</span><span class='o'>)</span> <span class='o'>%&gt;%</span> </span>
<span>  <span class='nf'>mutate</span><span class='o'>(</span>fav <span class='o'>=</span> <span class='o'>(</span><span class='nv'>fav</span><span class='o'>/</span><span class='nv'>count</span><span class='o'>)</span>, ret <span class='o'>=</span> <span class='o'>(</span><span class='nv'>ret</span><span class='o'>/</span><span class='nv'>count</span><span class='o'>)</span><span class='o'>)</span> <span class='o'>%&gt;%</span> </span>
<span>  <span class='nf'>pivot_longer</span><span class='o'>(</span></span>
<span>    <span class='nv'>fav</span><span class='o'>:</span><span class='nv'>ret</span>,</span>
<span>    names_to <span class='o'>=</span> <span class='s'>"engagement"</span>,</span>
<span>    values_to <span class='o'>=</span> <span class='s'>"engagement_count"</span><span class='o'>)</span> <span class='o'>%&gt;%</span> </span>
<span>  <span class='nf'>ggplot</span><span class='o'>(</span><span class='nf'>aes</span><span class='o'>(</span>x <span class='o'>=</span> <span class='nv'>engagement</span>, y <span class='o'>=</span> <span class='nv'>engagement_count</span>, fill <span class='o'>=</span> <span class='nf'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span><span class='o'>(</span><span class='nv'>source_rec</span><span class='o'>)</span><span class='o'>)</span><span class='o'>)</span><span class='o'>+</span></span>
<span>  <span class='nf'>geom_bar</span><span class='o'>(</span>position <span class='o'>=</span> <span class='s'>"dodge"</span>, stat <span class='o'>=</span> <span class='s'>"identity"</span><span class='o'>)</span><span class='o'>+</span></span>
<span>  <span class='nf'>ylab</span><span class='o'>(</span><span class='s'>"Average engagement per tweet"</span><span class='o'>)</span><span class='o'>+</span></span>
<span>  <span class='nf'>xlab</span><span class='o'>(</span><span class='s'>"Action"</span><span class='o'>)</span><span class='o'>+</span></span>
<span>  <span class='nf'>labs</span><span class='o'>(</span>fill <span class='o'>=</span> <span class='s'>"Twitting device"</span><span class='o'>)</span><span class='o'>+</span></span>
<span>  <span class='nf'>scale_x_discrete</span><span class='o'>(</span>labels <span class='o'>=</span> <span class='nf'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='o'>(</span><span class='s'>"Favorite"</span>, <span class='s'>"Retweet"</span><span class='o'>)</span><span class='o'>)</span><span class='o'>+</span></span>
<span>  <span class='nf'>scale_fill_manual</span><span class='o'>(</span>values <span class='o'>=</span> <span class='nf'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='o'>(</span><span class='s'>"#3DDC84"</span>, <span class='s'>"#555555"</span><span class='o'>)</span>,</span>
<span>                    labels <span class='o'>=</span> <span class='nf'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='o'>(</span><span class='s'>"Android"</span>, <span class='s'>"iPhone"</span><span class='o'>)</span><span class='o'>)</span></span></code></pre>
<img src="images/likes_and_retweets-1.png" width="700px" style="display: block; margin: auto;" />
</div>
<p>The first two plots show no clear prevalence of the usage of sentiment words and emotional words. The distribution between DT&rsquo;s tweets and his staff&rsquo;s ones is comparable and do not show relevant peaks. On the other hand, the last plot shows a clear tendency: tweets published by DT&rsquo;s staff have more engagement than DT&rsquo;s tweets. iPhone&rsquo;s tweets get almost 4 times &ldquo;likes&rdquo; than Android&rsquo;s ones and get retweeted 5 times more.</p>
<h2 id="33-a-name33a">3.3 <a name='33'></a></h2>
<p>Some regressions?</p>
<h3 id="330-data-preparation">3.3.0 Data preparation</h3>
<p>For reducing the numbers of the variables we recode the positive minus the negative as one variable. Also, we recode the emotional words in two variables: one for the positive emotional words and one for the negative ones:</p>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span><span class='nv'>trump</span> <span class='o'>&lt;-</span> <span class='nv'>trump</span> <span class='o'>%&gt;%</span> </span>
<span>  <span class='nf'>mutate</span><span class='o'>(</span>sentiment <span class='o'>=</span> <span class='o'>(</span><span class='nv'>positive</span> <span class='o'>-</span> <span class='nv'>negative</span><span class='o'>)</span>,</span>
<span>         emo_pos <span class='o'>=</span> <span class='o'>(</span><span class='nv'>joy</span><span class='o'>+</span><span class='nv'>anticipation</span><span class='o'>+</span><span class='nv'>surprise</span><span class='o'>+</span><span class='nv'>trust</span><span class='o'>)</span>,</span>
<span>         emo_neg <span class='o'>=</span> <span class='o'>(</span><span class='nv'>anger</span><span class='o'>+</span><span class='nv'>sadness</span><span class='o'>+</span><span class='nv'>disgust</span><span class='o'>+</span><span class='nv'>fear</span><span class='o'>)</span><span class='o'>)</span></span></code></pre>
</div>
<h3 id="331-regression-models">3.3.1 Regression models</h3>
<p>Then, we can fit the regression model:</p>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span><span class='nf'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='o'>(</span><span class='nv'>model</span> <span class='o'>&lt;-</span> <span class='nf'><a href='https://rdrr.io/r/stats/lm.html'>lm</a></span><span class='o'>(</span><span class='nv'>favorite_count</span> <span class='o'>~</span> <span class='nv'>sentiment</span>,</span>
<span>                    data <span class='o'>=</span> <span class='nv'>trump</span><span class='o'>)</span><span class='o'>)</span></span><span><span class='c'>#&gt; </span></span>
<span><span class='c'>#&gt; Call:</span></span>
<span><span class='c'>#&gt; lm(formula = favorite_count ~ sentiment, data = trump)</span></span>
<span><span class='c'>#&gt; </span></span>
<span><span class='c'>#&gt; Residuals:</span></span>
<span><span class='c'>#&gt;    Min     1Q Median     3Q    Max </span></span>
<span><span class='c'>#&gt;  -7174  -4432  -3959  -2779 628796 </span></span>
<span><span class='c'>#&gt; </span></span>
<span><span class='c'>#&gt; Coefficients:</span></span>
<span><span class='c'>#&gt;             Estimate Std. Error t value             Pr(&gt;|t|)    </span></span>
<span><span class='c'>#&gt; (Intercept)  4456.60      91.19  48.870 &lt; 0.0000000000000002 ***</span></span>
<span><span class='c'>#&gt; sentiment    -457.06      63.82  -7.162    0.000000000000813 ***</span></span>
<span><span class='c'>#&gt; ---</span></span>
<span><span class='c'>#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span><span class='c'>#&gt; </span></span>
<span><span class='c'>#&gt; Residual standard error: 15050 on 30778 degrees of freedom</span></span>
<span><span class='c'>#&gt; Multiple R-squared:  0.001664,  Adjusted R-squared:  0.001631 </span></span>
<span><span class='c'>#&gt; F-statistic: 51.29 on 1 and 30778 DF,  p-value: 0.0000000000008131</span></span><span><span class='nf'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='o'>(</span><span class='nv'>model</span>, <span class='m'>1</span><span class='o'>)</span></span>
<span><span class='nf'><a href='https://rdrr.io/r/graphics/abline.html'>abline</a></span><span class='o'>(</span>a <span class='o'>=</span> <span class='m'>0</span>, b <span class='o'>=</span> <span class='m'>0</span>, lty <span class='o'>=</span> <span class='m'>2</span><span class='o'>)</span></span></code></pre>
<img src="images/favorite_sent_regression-1.png" width="700px" style="display: block; margin: auto;" />
</div>
<p>The regression result for the formula favorite_count ~ sentiment seems to show a statistically significant negative relationship for the sentiment. For every step on the x-axis, the predicted favourite count decrease by 457 favourites (aka less negative tweets receive fewer likes). Despite this, the R-squared is very low, so the regressors can explain only a little part of the dependent variable variation. Lastly, the Residual vs Fitted plot shows that our data present heteroscedasticity. The model should not be trusted.</p>
<p>Now we make the regression using the same predictors, but using <em>retweet_count</em> as the predicted variable:</p>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span><span class='nf'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='o'>(</span><span class='nv'>model</span> <span class='o'>&lt;-</span> <span class='nf'><a href='https://rdrr.io/r/stats/lm.html'>lm</a></span><span class='o'>(</span><span class='nv'>retweet_count</span> <span class='o'>~</span> <span class='nv'>sentiment</span>,</span>
<span>                    data <span class='o'>=</span> <span class='nv'>trump</span><span class='o'>)</span><span class='o'>)</span></span><span><span class='c'>#&gt; </span></span>
<span><span class='c'>#&gt; Call:</span></span>
<span><span class='c'>#&gt; lm(formula = retweet_count ~ sentiment, data = trump)</span></span>
<span><span class='c'>#&gt; </span></span>
<span><span class='c'>#&gt; Residuals:</span></span>
<span><span class='c'>#&gt;    Min     1Q Median     3Q    Max </span></span>
<span><span class='c'>#&gt;  -2886  -1624  -1362   -710 343156 </span></span>
<span><span class='c'>#&gt; </span></span>
<span><span class='c'>#&gt; Coefficients:</span></span>
<span><span class='c'>#&gt;             Estimate Std. Error t value            Pr(&gt;|t|)    </span></span>
<span><span class='c'>#&gt; (Intercept)  1650.45      31.24  52.837 &lt;0.0000000000000002 ***</span></span>
<span><span class='c'>#&gt; sentiment    -209.43      21.86  -9.581 &lt;0.0000000000000002 ***</span></span>
<span><span class='c'>#&gt; ---</span></span>
<span><span class='c'>#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span><span class='c'>#&gt; </span></span>
<span><span class='c'>#&gt; Residual standard error: 5155 on 30778 degrees of freedom</span></span>
<span><span class='c'>#&gt; Multiple R-squared:  0.002974,  Adjusted R-squared:  0.002941 </span></span>
<span><span class='c'>#&gt; F-statistic: 91.79 on 1 and 30778 DF,  p-value: &lt; 0.00000000000000022</span></span><span><span class='nf'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='o'>(</span><span class='nv'>model</span>, <span class='m'>1</span><span class='o'>)</span></span>
<span><span class='nf'><a href='https://rdrr.io/r/graphics/abline.html'>abline</a></span><span class='o'>(</span>a <span class='o'>=</span> <span class='m'>0</span>, b <span class='o'>=</span> <span class='m'>0</span>, lty <span class='o'>=</span> <span class='m'>2</span><span class='o'>)</span></span></code></pre>
<img src="images/retweet_sent_regression-1.png" width="700px" style="display: block; margin: auto;" />
</div>
<p>The results show a concordance with the trends resulting for the <em>favorite_count</em>: more positive words lead to fewer retweets, but the magnitude of the Estimate Coefficient is lower. Also, this model has the same problems as the first one.</p>
<h3 id="332">3.3.2</h3>
<p>Using the recoded emotional words as regressors:</p>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span><span class='nf'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='o'>(</span><span class='nv'>model</span> <span class='o'>&lt;-</span> <span class='nf'><a href='https://rdrr.io/r/stats/lm.html'>lm</a></span><span class='o'>(</span><span class='nv'>favorite_count</span> <span class='o'>~</span> <span class='nv'>emo_neg</span><span class='o'>+</span><span class='nv'>emo_pos</span>,   </span>
<span>                    data <span class='o'>=</span> <span class='nv'>trump</span><span class='o'>)</span><span class='o'>)</span></span><span><span class='c'>#&gt; </span></span>
<span><span class='c'>#&gt; Call:</span></span>
<span><span class='c'>#&gt; lm(formula = favorite_count ~ emo_neg + emo_pos, data = trump)</span></span>
<span><span class='c'>#&gt; </span></span>
<span><span class='c'>#&gt; Residuals:</span></span>
<span><span class='c'>#&gt;    Min     1Q Median     3Q    Max </span></span>
<span><span class='c'>#&gt; -12737  -3847  -3655  -2828 627105 </span></span>
<span><span class='c'>#&gt; </span></span>
<span><span class='c'>#&gt; Coefficients:</span></span>
<span><span class='c'>#&gt;             Estimate Std. Error t value             Pr(&gt;|t|)    </span></span>
<span><span class='c'>#&gt; (Intercept)  3846.89     118.93  32.346 &lt; 0.0000000000000002 ***</span></span>
<span><span class='c'>#&gt; emo_neg       638.45      48.44  13.181 &lt; 0.0000000000000002 ***</span></span>
<span><span class='c'>#&gt; emo_pos      -126.24      36.65  -3.445             0.000572 ***</span></span>
<span><span class='c'>#&gt; ---</span></span>
<span><span class='c'>#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span><span class='c'>#&gt; </span></span>
<span><span class='c'>#&gt; Residual standard error: 15020 on 30777 degrees of freedom</span></span>
<span><span class='c'>#&gt; Multiple R-squared:  0.005703,  Adjusted R-squared:  0.005638 </span></span>
<span><span class='c'>#&gt; F-statistic: 88.26 on 2 and 30777 DF,  p-value: &lt; 0.00000000000000022</span></span><span><span class='nf'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='o'>(</span><span class='nv'>model</span>, <span class='m'>1</span><span class='o'>)</span></span>
<span><span class='nf'><a href='https://rdrr.io/r/graphics/abline.html'>abline</a></span><span class='o'>(</span>a <span class='o'>=</span> <span class='m'>0</span>, b <span class='o'>=</span> <span class='m'>0</span>, lty <span class='o'>=</span> <span class='m'>2</span><span class='o'>)</span></span></code></pre>
<img src="images/favorite_emo_regression-1.png" width="700px" style="display: block; margin: auto;" />
</div>
<p>The results are in congruence with the previous ones, an increase of the negative words cause more likes and an increase of the positive words cause fewer likes. But they also have the same problems and the model is not trustworthy.</p>
<p>As before we fit the model for the <em>retweet_count</em> variable:</p>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span><span class='nf'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='o'>(</span><span class='nv'>model</span> <span class='o'>&lt;-</span> <span class='nf'><a href='https://rdrr.io/r/stats/lm.html'>lm</a></span><span class='o'>(</span><span class='nv'>retweet_count</span> <span class='o'>~</span> <span class='nv'>emo_neg</span><span class='o'>+</span><span class='nv'>emo_pos</span>,   </span>
<span>                    data <span class='o'>=</span> <span class='nv'>trump</span><span class='o'>)</span><span class='o'>)</span></span><span><span class='c'>#&gt; </span></span>
<span><span class='c'>#&gt; Call:</span></span>
<span><span class='c'>#&gt; lm(formula = retweet_count ~ emo_neg + emo_pos, data = trump)</span></span>
<span><span class='c'>#&gt; </span></span>
<span><span class='c'>#&gt; Residuals:</span></span>
<span><span class='c'>#&gt;    Min     1Q Median     3Q    Max </span></span>
<span><span class='c'>#&gt;  -4775  -1434  -1279   -702 343368 </span></span>
<span><span class='c'>#&gt; </span></span>
<span><span class='c'>#&gt; Coefficients:</span></span>
<span><span class='c'>#&gt;             Estimate Std. Error t value             Pr(&gt;|t|)    </span></span>
<span><span class='c'>#&gt; (Intercept)  1437.93      40.73  35.304 &lt; 0.0000000000000002 ***</span></span>
<span><span class='c'>#&gt; emo_neg       243.81      16.59  14.697 &lt; 0.0000000000000002 ***</span></span>
<span><span class='c'>#&gt; emo_pos       -66.75      12.55  -5.318          0.000000105 ***</span></span>
<span><span class='c'>#&gt; ---</span></span>
<span><span class='c'>#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span><span class='c'>#&gt; </span></span>
<span><span class='c'>#&gt; Residual standard error: 5144 on 30777 degrees of freedom</span></span>
<span><span class='c'>#&gt; Multiple R-squared:  0.00733,  Adjusted R-squared:  0.007265 </span></span>
<span><span class='c'>#&gt; F-statistic: 113.6 on 2 and 30777 DF,  p-value: &lt; 0.00000000000000022</span></span><span><span class='nf'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='o'>(</span><span class='nv'>model</span>, <span class='m'>1</span><span class='o'>)</span></span>
<span><span class='nf'><a href='https://rdrr.io/r/graphics/abline.html'>abline</a></span><span class='o'>(</span>a <span class='o'>=</span> <span class='m'>0</span>, b <span class='o'>=</span> <span class='m'>0</span>, lty <span class='o'>=</span> <span class='m'>2</span><span class='o'>)</span></span></code></pre>
<img src="images/rwtweet_emo_regression-1.png" width="700px" style="display: block; margin: auto;" />
</div>
<p>Not surprisingly, as the <em>retweet_count</em>~<em>sentiment</em> model, this regression shows the same trends as the last one, but the magnitude of the Coefficient estimated is lower and, again, the model presents a low R-squared and heteroscedasticity.</p>
<h3 id="333">3.3.3</h3>
<p>We might want to control if the longer tweets get more engagement we must add <em>tot_words</em> variable as an interaction term using the $*$ symbol:</p>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span><span class='nf'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='o'>(</span><span class='nv'>model</span> <span class='o'>&lt;-</span> <span class='nf'><a href='https://rdrr.io/r/stats/lm.html'>lm</a></span><span class='o'>(</span><span class='nv'>favorite_count</span> <span class='o'>~</span> <span class='nv'>sentiment</span><span class='o'>*</span><span class='nv'>tot_words</span>, </span>
<span>                    data <span class='o'>=</span> <span class='nv'>trump</span><span class='o'>)</span><span class='o'>)</span></span><span><span class='c'>#&gt; </span></span>
<span><span class='c'>#&gt; Call:</span></span>
<span><span class='c'>#&gt; lm(formula = favorite_count ~ sentiment * tot_words, data = trump)</span></span>
<span><span class='c'>#&gt; </span></span>
<span><span class='c'>#&gt; Residuals:</span></span>
<span><span class='c'>#&gt;    Min     1Q Median     3Q    Max </span></span>
<span><span class='c'>#&gt; -10793  -4740  -3479  -1575 626740 </span></span>
<span><span class='c'>#&gt; </span></span>
<span><span class='c'>#&gt; Coefficients:</span></span>
<span><span class='c'>#&gt;                     Estimate Std. Error t value             Pr(&gt;|t|)    </span></span>
<span><span class='c'>#&gt; (Intercept)           326.14     246.13   1.325              0.18516    </span></span>
<span><span class='c'>#&gt; sentiment             116.37     244.28   0.476              0.63381    </span></span>
<span><span class='c'>#&gt; tot_words             257.78      14.11  18.264 &lt; 0.0000000000000002 ***</span></span>
<span><span class='c'>#&gt; sentiment:tot_words   -32.68      12.52  -2.612              0.00902 ** </span></span>
<span><span class='c'>#&gt; ---</span></span>
<span><span class='c'>#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span><span class='c'>#&gt; </span></span>
<span><span class='c'>#&gt; Residual standard error: 14970 on 30776 degrees of freedom</span></span>
<span><span class='c'>#&gt; Multiple R-squared:  0.01268,  Adjusted R-squared:  0.01258 </span></span>
<span><span class='c'>#&gt; F-statistic: 131.7 on 3 and 30776 DF,  p-value: &lt; 0.00000000000000022</span></span><span><span class='nf'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='o'>(</span><span class='nv'>model</span>, <span class='m'>1</span><span class='o'>)</span></span>
<span><span class='nf'><a href='https://rdrr.io/r/graphics/abline.html'>abline</a></span><span class='o'>(</span>a <span class='o'>=</span> <span class='m'>0</span>, b <span class='o'>=</span> <span class='m'>0</span>, lty <span class='o'>=</span> <span class='m'>2</span><span class='o'>)</span></span></code></pre>
<img src="images/words_interaction_regression-1.png" width="700px" style="display: block; margin: auto;" />
</div>
<p>There is, indeed, a statistically significant interaction between the total words and the sentiment!</p>
<h3 id="334">3.3.4</h3>
<p>Lastly, we can check the difference separating the different recoded sources. Since <em>source_rec</em> variable is categorical, to add it to the model fitting we must wrap it with the $factor()$ function:</p>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span><span class='nf'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='o'>(</span><span class='nv'>model</span> <span class='o'>&lt;-</span> <span class='nf'><a href='https://rdrr.io/r/stats/lm.html'>lm</a></span><span class='o'>(</span><span class='nv'>favorite_count</span> <span class='o'>~</span> <span class='nv'>sentiment</span> <span class='o'>+</span> <span class='nf'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span><span class='o'>(</span><span class='nv'>source_rec</span><span class='o'>)</span>, </span>
<span>                    data <span class='o'>=</span> <span class='nv'>trump</span><span class='o'>)</span><span class='o'>)</span></span><span><span class='c'>#&gt; </span></span>
<span><span class='c'>#&gt; Call:</span></span>
<span><span class='c'>#&gt; lm(formula = favorite_count ~ sentiment + factor(source_rec), </span></span>
<span><span class='c'>#&gt;     data = trump)</span></span>
<span><span class='c'>#&gt; </span></span>
<span><span class='c'>#&gt; Residuals:</span></span>
<span><span class='c'>#&gt;    Min     1Q Median     3Q    Max </span></span>
<span><span class='c'>#&gt; -21662  -4282  -1321   -566 628596 </span></span>
<span><span class='c'>#&gt; </span></span>
<span><span class='c'>#&gt; Coefficients:</span></span>
<span><span class='c'>#&gt;                     Estimate Std. Error t value             Pr(&gt;|t|)    </span></span>
<span><span class='c'>#&gt; (Intercept)          4656.73     121.26  38.404 &lt; 0.0000000000000002 ***</span></span>
<span><span class='c'>#&gt; sentiment            -347.70      60.11  -5.785        0.00000000733 ***</span></span>
<span><span class='c'>#&gt; factor(source_rec)2 15266.53     298.39  51.163 &lt; 0.0000000000000002 ***</span></span>
<span><span class='c'>#&gt; factor(source_rec)3 -3580.70     169.12 -21.173 &lt; 0.0000000000000002 ***</span></span>
<span><span class='c'>#&gt; ---</span></span>
<span><span class='c'>#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span><span class='c'>#&gt; </span></span>
<span><span class='c'>#&gt; Residual standard error: 14170 on 30776 degrees of freedom</span></span>
<span><span class='c'>#&gt; Multiple R-squared:  0.1153,  Adjusted R-squared:  0.1152 </span></span>
<span><span class='c'>#&gt; F-statistic:  1337 on 3 and 30776 DF,  p-value: &lt; 0.00000000000000022</span></span><span><span class='nf'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='o'>(</span><span class='nv'>model</span>, <span class='m'>1</span><span class='o'>)</span></span>
<span><span class='nf'><a href='https://rdrr.io/r/graphics/abline.html'>abline</a></span><span class='o'>(</span>a <span class='o'>=</span> <span class='m'>0</span>, b <span class='o'>=</span> <span class='m'>0</span>, lty <span class='o'>=</span> <span class='m'>2</span><span class='o'>)</span></span></code></pre>
<img src="images/fav_per_source-1.png" width="700px" style="display: block; margin: auto;" />
</div>
<p>The baseline category is <em>Android.</em> That means that <em>Other</em> follow a slightly more negative trend than <em>Android</em>, but <em>iPhone</em> has a contrary one. More positive words, in that case, means more likes! We can also show these results with a graphical approach:</p>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span><span class='nf'>ggplot</span><span class='o'>(</span><span class='nv'>trump</span>, <span class='nf'>aes</span><span class='o'>(</span>x <span class='o'>=</span> <span class='nv'>sentiment</span>, y <span class='o'>=</span> <span class='nv'>favorite_count</span>, group <span class='o'>=</span> <span class='nv'>source_rec</span><span class='o'>)</span><span class='o'>)</span><span class='o'>+</span></span>
<span>  <span class='nf'>geom_smooth</span><span class='o'>(</span><span class='nf'>aes</span><span class='o'>(</span>col <span class='o'>=</span> <span class='nf'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span><span class='o'>(</span><span class='nv'>source_rec</span><span class='o'>)</span><span class='o'>)</span>, method <span class='o'>=</span> <span class='s'>"lm"</span><span class='o'>)</span><span class='o'>+</span></span>
<span>  <span class='nf'>labs</span><span class='o'>(</span>color <span class='o'>=</span><span class='s'>'Twitting device'</span><span class='o'>)</span><span class='o'>+</span></span>
<span>  <span class='nf'>scale_color_manual</span><span class='o'>(</span>values <span class='o'>=</span> <span class='nf'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='o'>(</span><span class='s'>"#3DDC84"</span>, <span class='s'>'#555555'</span>, <span class='s'>'purple'</span><span class='o'>)</span>,</span>
<span>                     labels <span class='o'>=</span> <span class='nf'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='o'>(</span><span class='s'>"Android"</span>,<span class='s'>"iPhone"</span>,<span class='s'>"Others"</span><span class='o'>)</span><span class='o'>)</span></span></code></pre>
<img src="images/regression_sources-1.png" width="700px" style="display: block; margin: auto;" />
</div>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span><span class='nf'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='o'>(</span><span class='nv'>model</span> <span class='o'>&lt;-</span> <span class='nf'><a href='https://rdrr.io/r/stats/lm.html'>lm</a></span><span class='o'>(</span><span class='nv'>retweet_count</span> <span class='o'>~</span> <span class='nv'>sentiment</span> <span class='o'>+</span> <span class='nf'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span><span class='o'>(</span><span class='nv'>source_rec</span><span class='o'>)</span>, </span>
<span>                    data <span class='o'>=</span> <span class='nv'>trump</span><span class='o'>)</span><span class='o'>)</span></span><span><span class='c'>#&gt; </span></span>
<span><span class='c'>#&gt; Call:</span></span>
<span><span class='c'>#&gt; lm(formula = retweet_count ~ sentiment + factor(source_rec), </span></span>
<span><span class='c'>#&gt;     data = trump)</span></span>
<span><span class='c'>#&gt; </span></span>
<span><span class='c'>#&gt; Residuals:</span></span>
<span><span class='c'>#&gt;    Min     1Q Median     3Q    Max </span></span>
<span><span class='c'>#&gt;  -7565  -1363   -637   -205 343258 </span></span>
<span><span class='c'>#&gt; </span></span>
<span><span class='c'>#&gt; Coefficients:</span></span>
<span><span class='c'>#&gt;                     Estimate Std. Error t value            Pr(&gt;|t|)    </span></span>
<span><span class='c'>#&gt; (Intercept)          1547.77      41.53  37.265 &lt;0.0000000000000002 ***</span></span>
<span><span class='c'>#&gt; sentiment            -170.71      20.59  -8.292 &lt;0.0000000000000002 ***</span></span>
<span><span class='c'>#&gt; factor(source_rec)2  5553.37     102.21  54.334 &lt;0.0000000000000002 ***</span></span>
<span><span class='c'>#&gt; factor(source_rec)3  -903.15      57.93 -15.591 &lt;0.0000000000000002 ***</span></span>
<span><span class='c'>#&gt; ---</span></span>
<span><span class='c'>#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span><span class='c'>#&gt; </span></span>
<span><span class='c'>#&gt; Residual standard error: 4853 on 30776 degrees of freedom</span></span>
<span><span class='c'>#&gt; Multiple R-squared:  0.1165,  Adjusted R-squared:  0.1164 </span></span>
<span><span class='c'>#&gt; F-statistic:  1353 on 3 and 30776 DF,  p-value: &lt; 0.00000000000000022</span></span><span><span class='nf'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='o'>(</span><span class='nv'>model</span>, <span class='m'>1</span><span class='o'>)</span></span>
<span><span class='nf'><a href='https://rdrr.io/r/graphics/abline.html'>abline</a></span><span class='o'>(</span>a <span class='o'>=</span> <span class='m'>0</span>, b <span class='o'>=</span> <span class='m'>0</span>, lty <span class='o'>=</span> <span class='m'>2</span><span class='o'>)</span></span></code></pre>
<img src="images/ret_per_source-1.png" width="700px" style="display: block; margin: auto;" />
</div>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span><span class='nf'>ggplot</span><span class='o'>(</span><span class='nv'>trump</span>, <span class='nf'>aes</span><span class='o'>(</span>x <span class='o'>=</span> <span class='nv'>sentiment</span>, y <span class='o'>=</span> <span class='nv'>retweet_count</span>, group <span class='o'>=</span> <span class='nv'>source_rec</span><span class='o'>)</span><span class='o'>)</span><span class='o'>+</span></span>
<span>  <span class='nf'>geom_smooth</span><span class='o'>(</span><span class='nf'>aes</span><span class='o'>(</span>col <span class='o'>=</span> <span class='nf'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span><span class='o'>(</span><span class='nv'>source_rec</span><span class='o'>)</span><span class='o'>)</span>, method <span class='o'>=</span> <span class='s'>"lm"</span><span class='o'>)</span><span class='o'>+</span></span>
<span>  <span class='nf'>labs</span><span class='o'>(</span>color <span class='o'>=</span><span class='s'>'Twitting device'</span><span class='o'>)</span><span class='o'>+</span></span>
<span>  <span class='nf'>scale_color_manual</span><span class='o'>(</span>values <span class='o'>=</span> <span class='nf'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='o'>(</span><span class='s'>"#3DDC84"</span>, <span class='s'>'#555555'</span>, <span class='s'>'purple'</span><span class='o'>)</span>,</span>
<span>                     labels <span class='o'>=</span> <span class='nf'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='o'>(</span><span class='s'>"Android"</span>,<span class='s'>"iPhone"</span>,<span class='s'>"Others"</span><span class='o'>)</span><span class='o'>)</span></span></code></pre>
<img src="images/retweet_sources-1.png" width="700px" style="display: block; margin: auto;" />
</div>
<p>Interestingly, in this case, even if iPhone tweets still get more engagement than other sources, an increase in the sentiment values (aka more positive words/or less negative ones) lead to a reduction of the reweets.</p>
<h2 id="34-a-name34a">3.4 <a name='34'></a></h2>
<p>Given that:</p>
<ol>
<li>The presidential elections happened on November 8, 2016.</li>
<li>Trump campaign was officially launched on June 16, 2015.</li>
<li>Trump became the presumptive nominee for the Republicans on May 4, 2016 (after the Indiana primary on May 3) and the official nominee on July 19, 2016.</li>
</ol>
<h3 id="341">3.4.1</h3>
<p>Did the frequency of Trump&rsquo;s tweets change (1) before/after he started the primary campaign, (2) over the course of the primary campaign, (3) before/after he became official nominee, (4) over the course of the general election campaign, and (5) before/after he became President?</p>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span><span class='nv'>trump</span> <span class='o'>%&gt;%</span> </span>
<span>  <span class='nf'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='o'>(</span><span class='nv'>year</span> <span class='o'>&gt;</span> <span class='s'>'2010'</span><span class='o'>)</span> <span class='o'>%&gt;%</span> </span>
<span>  <span class='nf'>group_by</span><span class='o'>(</span>month <span class='o'>=</span> <span class='nf'>floor_date</span><span class='o'>(</span><span class='nv'>date</span>, unit <span class='o'>=</span> <span class='s'>'month'</span><span class='o'>)</span>, <span class='nv'>year</span> <span class='o'>)</span> <span class='o'>%&gt;%</span> </span>
<span>  <span class='nf'>summarise</span><span class='o'>(</span>n <span class='o'>=</span> <span class='nf'>n</span><span class='o'>(</span><span class='o'>)</span><span class='o'>)</span> <span class='o'>%&gt;%</span> </span>
<span>  <span class='nf'>ungroup</span><span class='o'>(</span><span class='o'>)</span> <span class='o'>%&gt;%</span> </span>
<span>  <span class='nf'>ggplot</span><span class='o'>(</span><span class='nf'>aes</span><span class='o'>(</span><span class='nv'>month</span>, <span class='nv'>n</span><span class='o'>)</span><span class='o'>)</span><span class='o'>+</span></span>
<span>  <span class='nf'>geom_rect</span><span class='o'>(</span><span class='nf'>aes</span><span class='o'>(</span>xmin<span class='o'>=</span><span class='nf'><a href='https://rdrr.io/r/base/as.POSIXlt.html'>as.POSIXct</a></span><span class='o'>(</span><span class='o'>-</span><span class='kc'>Inf</span><span class='o'>)</span>, xmax<span class='o'>=</span><span class='nf'><a href='https://rdrr.io/r/base/as.POSIXlt.html'>as.POSIXct</a></span><span class='o'>(</span><span class='s'>"2015-06-16"</span><span class='o'>)</span>, ymin<span class='o'>=</span><span class='o'>-</span><span class='kc'>Inf</span>, ymax<span class='o'>=</span><span class='kc'>Inf</span>, fill <span class='o'>=</span> <span class='s'>'1'</span><span class='o'>)</span>,</span>
<span>            color<span class='o'>=</span> <span class='s'>"black"</span>,</span>
<span>            alpha <span class='o'>=</span> <span class='m'>0.2</span>,</span>
<span>            data <span class='o'>=</span> <span class='nf'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='o'>(</span><span class='o'>)</span>,</span>
<span>            inherit.aes <span class='o'>=</span> <span class='kc'>FALSE</span><span class='o'>)</span><span class='o'>+</span></span>
<span>  <span class='nf'>geom_rect</span><span class='o'>(</span><span class='nf'>aes</span><span class='o'>(</span>xmin<span class='o'>=</span><span class='nf'><a href='https://rdrr.io/r/base/as.POSIXlt.html'>as.POSIXct</a></span><span class='o'>(</span><span class='s'>"2015-06-16"</span><span class='o'>)</span>, xmax<span class='o'>=</span><span class='nf'><a href='https://rdrr.io/r/base/as.POSIXlt.html'>as.POSIXct</a></span><span class='o'>(</span><span class='s'>"2016-05-04"</span><span class='o'>)</span>, ymin<span class='o'>=</span><span class='o'>-</span><span class='kc'>Inf</span>, ymax<span class='o'>=</span><span class='kc'>Inf</span>, fill <span class='o'>=</span> <span class='s'>'2'</span><span class='o'>)</span>,</span>
<span>            color<span class='o'>=</span> <span class='s'>"black"</span>,</span>
<span>            alpha <span class='o'>=</span> <span class='m'>0.2</span>,</span>
<span>            data <span class='o'>=</span> <span class='nf'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='o'>(</span><span class='o'>)</span>,</span>
<span>            inherit.aes <span class='o'>=</span> <span class='kc'>FALSE</span><span class='o'>)</span><span class='o'>+</span></span>
<span>  <span class='nf'>geom_rect</span><span class='o'>(</span><span class='nf'>aes</span><span class='o'>(</span>xmin<span class='o'>=</span><span class='nf'><a href='https://rdrr.io/r/base/as.POSIXlt.html'>as.POSIXct</a></span><span class='o'>(</span><span class='s'>"2016-05-04"</span><span class='o'>)</span>, xmax<span class='o'>=</span><span class='nf'><a href='https://rdrr.io/r/base/as.POSIXlt.html'>as.POSIXct</a></span><span class='o'>(</span><span class='s'>"2016-07-19"</span><span class='o'>)</span>, ymin<span class='o'>=</span><span class='o'>-</span><span class='kc'>Inf</span>, ymax<span class='o'>=</span><span class='kc'>Inf</span>, fill <span class='o'>=</span> <span class='s'>'3'</span><span class='o'>)</span>,</span>
<span>            color<span class='o'>=</span> <span class='s'>"black"</span>,</span>
<span>            alpha <span class='o'>=</span> <span class='m'>0.2</span>,</span>
<span>            data <span class='o'>=</span> <span class='nf'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='o'>(</span><span class='o'>)</span>, </span>
<span>            inherit.aes <span class='o'>=</span> <span class='kc'>FALSE</span><span class='o'>)</span><span class='o'>+</span></span>
<span>  <span class='nf'>geom_rect</span><span class='o'>(</span><span class='nf'>aes</span><span class='o'>(</span>xmin<span class='o'>=</span><span class='nf'><a href='https://rdrr.io/r/base/as.POSIXlt.html'>as.POSIXct</a></span><span class='o'>(</span><span class='s'>"2016-07-19"</span><span class='o'>)</span>, xmax<span class='o'>=</span><span class='nf'><a href='https://rdrr.io/r/base/as.POSIXlt.html'>as.POSIXct</a></span><span class='o'>(</span><span class='s'>"2016-11-08"</span><span class='o'>)</span>, ymin<span class='o'>=</span><span class='o'>-</span><span class='kc'>Inf</span>, ymax<span class='o'>=</span><span class='kc'>Inf</span>, fill <span class='o'>=</span> <span class='s'>'4'</span><span class='o'>)</span>,</span>
<span>            color<span class='o'>=</span> <span class='s'>"black"</span>,</span>
<span>            alpha <span class='o'>=</span> <span class='m'>0.2</span>,</span>
<span>            data <span class='o'>=</span> <span class='nf'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='o'>(</span><span class='o'>)</span>,</span>
<span>            inherit.aes <span class='o'>=</span> <span class='kc'>FALSE</span><span class='o'>)</span><span class='o'>+</span></span>
<span>  <span class='nf'>geom_rect</span><span class='o'>(</span><span class='nf'>aes</span><span class='o'>(</span>xmin<span class='o'>=</span><span class='nf'><a href='https://rdrr.io/r/base/as.POSIXlt.html'>as.POSIXct</a></span><span class='o'>(</span><span class='s'>"2016-11-08"</span><span class='o'>)</span>, xmax<span class='o'>=</span><span class='nf'><a href='https://rdrr.io/r/base/as.POSIXlt.html'>as.POSIXct</a></span><span class='o'>(</span><span class='kc'>Inf</span><span class='o'>)</span>, ymin<span class='o'>=</span><span class='o'>-</span><span class='kc'>Inf</span>, ymax<span class='o'>=</span><span class='kc'>Inf</span>, fill <span class='o'>=</span> <span class='s'>'5'</span><span class='o'>)</span>,</span>
<span>            color<span class='o'>=</span> <span class='s'>"black"</span>,</span>
<span>            alpha <span class='o'>=</span> <span class='m'>0.2</span>,</span>
<span>            data <span class='o'>=</span> <span class='nf'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='o'>(</span><span class='o'>)</span>, </span>
<span>            inherit.aes <span class='o'>=</span> <span class='kc'>FALSE</span><span class='o'>)</span><span class='o'>+</span></span>
<span>  <span class='nf'>scale_fill_manual</span><span class='o'>(</span>values <span class='o'>=</span> <span class='nf'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='o'>(</span><span class='s'>'#442288'</span>,<span class='s'>'#6CA2EA'</span>,<span class='s'>'#B5D33D'</span>,<span class='s'>'#FED23F'</span>,<span class='s'>'#EB7D5B'</span><span class='o'>)</span>, </span>
<span>                    labels <span class='o'>=</span> <span class='nf'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='o'>(</span><span class='s'>"Before campaign"</span>,<span class='s'>"Presidential primary campaign"</span>,<span class='s'>"Presumptive nominee"</span>,<span class='s'>"Official nominee"</span>,<span class='s'>"Elected president"</span><span class='o'>)</span><span class='o'>)</span><span class='o'>+</span></span>
<span>  <span class='nf'>labs</span><span class='o'>(</span>fill<span class='o'>=</span><span class='s'>""</span><span class='o'>)</span><span class='o'>+</span></span>
<span>  <span class='nf'>geom_line</span><span class='o'>(</span><span class='o'>)</span><span class='o'>+</span></span>
<span>  <span class='nf'>geom_point</span><span class='o'>(</span><span class='o'>)</span><span class='o'>+</span></span>
<span>  <span class='nf'>ylab</span><span class='o'>(</span>label <span class='o'>=</span> <span class='s'>"Montly tweets"</span><span class='o'>)</span><span class='o'>+</span></span>
<span>  <span class='nf'>xlab</span><span class='o'>(</span>label <span class='o'>=</span> <span class='s'>""</span><span class='o'>)</span></span></code></pre>
<img src="images/Political_activity_plot-1.png" width="700px" style="display: block; margin: auto;" />
</div>
<p>The graph shows the monthly volume of tweets published during five different periods of Donald Trump&rsquo;s activity. We can understand that the more dense period is &ldquo;Before Campaign&rdquo;. After the official campaign launch, the growing trend starts to drop, with only one peak before the presidential election. Nevertheless, this graph is not very informative because it doesn&rsquo;t show us the behaviour of the different sources.</p>
<h3 id="342">3.4.2</h3>
<p>We can plot a line chart grouped by the recoded sources dividing the plot into 5 different &ldquo;regions&rdquo; indicating the political periods of Donald Trump. To improve the readability of the chart we can filter out tweets published before 2014. The earlier tweets represent only the media career of Donald Trump, as the presenter for &ldquo;The Apprentice&rdquo;.</p>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span><span class='nv'>trump</span> <span class='o'>%&gt;%</span> </span>
<span>  <span class='nf'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='o'>(</span><span class='nv'>year</span> <span class='o'>&gt;</span> <span class='s'>'2010'</span><span class='o'>)</span> <span class='o'>%&gt;%</span> </span>
<span>  <span class='nf'>group_by</span><span class='o'>(</span><span class='nv'>source_rec</span>, month <span class='o'>=</span> <span class='nf'>floor_date</span><span class='o'>(</span><span class='nv'>date</span>, unit <span class='o'>=</span> <span class='s'>'month'</span><span class='o'>)</span>, <span class='nv'>year</span> <span class='o'>)</span> <span class='o'>%&gt;%</span> </span>
<span>  <span class='nf'>summarise</span><span class='o'>(</span>n <span class='o'>=</span> <span class='nf'>n</span><span class='o'>(</span><span class='o'>)</span><span class='o'>)</span> <span class='o'>%&gt;%</span> </span>
<span>  <span class='nf'>ungroup</span><span class='o'>(</span><span class='o'>)</span> <span class='o'>%&gt;%</span> </span>
<span>  <span class='nf'>ggplot</span><span class='o'>(</span><span class='nf'>aes</span><span class='o'>(</span><span class='nv'>month</span>, <span class='nv'>n</span>, color <span class='o'>=</span> <span class='nv'>source_rec</span><span class='o'>)</span><span class='o'>)</span><span class='o'>+</span></span>
<span>  <span class='nf'>labs</span><span class='o'>(</span>color <span class='o'>=</span><span class='s'>'Twitting device'</span><span class='o'>)</span><span class='o'>+</span></span>
<span>  <span class='nf'>scale_color_manual</span><span class='o'>(</span>values <span class='o'>=</span> <span class='nf'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='o'>(</span><span class='s'>"#3DDC84"</span>, <span class='s'>'#555555'</span>, <span class='s'>'purple'</span><span class='o'>)</span>,</span>
<span>                     labels <span class='o'>=</span> <span class='nf'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='o'>(</span><span class='s'>"Android"</span>,<span class='s'>"iPhone"</span>,<span class='s'>"Others"</span><span class='o'>)</span><span class='o'>)</span><span class='o'>+</span></span>
<span>  <span class='nf'>geom_rect</span><span class='o'>(</span><span class='nf'>aes</span><span class='o'>(</span>xmin<span class='o'>=</span><span class='nf'><a href='https://rdrr.io/r/base/as.POSIXlt.html'>as.POSIXct</a></span><span class='o'>(</span><span class='o'>-</span><span class='kc'>Inf</span><span class='o'>)</span>, xmax<span class='o'>=</span><span class='nf'><a href='https://rdrr.io/r/base/as.POSIXlt.html'>as.POSIXct</a></span><span class='o'>(</span><span class='s'>"2015-06-16"</span><span class='o'>)</span>, ymin<span class='o'>=</span><span class='o'>-</span><span class='kc'>Inf</span>, ymax<span class='o'>=</span><span class='kc'>Inf</span>, fill <span class='o'>=</span> <span class='s'>'1'</span><span class='o'>)</span>,</span>
<span>            color<span class='o'>=</span> <span class='s'>"black"</span>,</span>
<span>            alpha <span class='o'>=</span> <span class='m'>0.2</span>,</span>
<span>            data <span class='o'>=</span> <span class='nf'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='o'>(</span><span class='o'>)</span>,</span>
<span>            inherit.aes <span class='o'>=</span> <span class='kc'>FALSE</span><span class='o'>)</span><span class='o'>+</span></span>
<span>  <span class='nf'>geom_rect</span><span class='o'>(</span><span class='nf'>aes</span><span class='o'>(</span>xmin<span class='o'>=</span><span class='nf'><a href='https://rdrr.io/r/base/as.POSIXlt.html'>as.POSIXct</a></span><span class='o'>(</span><span class='s'>"2015-06-16"</span><span class='o'>)</span>, xmax<span class='o'>=</span><span class='nf'><a href='https://rdrr.io/r/base/as.POSIXlt.html'>as.POSIXct</a></span><span class='o'>(</span><span class='s'>"2016-05-04"</span><span class='o'>)</span>, ymin<span class='o'>=</span><span class='o'>-</span><span class='kc'>Inf</span>, ymax<span class='o'>=</span><span class='kc'>Inf</span>, fill <span class='o'>=</span> <span class='s'>'2'</span><span class='o'>)</span>,</span>
<span>            color<span class='o'>=</span> <span class='s'>"black"</span>,</span>
<span>            alpha <span class='o'>=</span> <span class='m'>0.2</span>,</span>
<span>            data <span class='o'>=</span> <span class='nf'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='o'>(</span><span class='o'>)</span>,</span>
<span>            inherit.aes <span class='o'>=</span> <span class='kc'>FALSE</span><span class='o'>)</span><span class='o'>+</span></span>
<span>  <span class='nf'>geom_rect</span><span class='o'>(</span><span class='nf'>aes</span><span class='o'>(</span>xmin<span class='o'>=</span><span class='nf'><a href='https://rdrr.io/r/base/as.POSIXlt.html'>as.POSIXct</a></span><span class='o'>(</span><span class='s'>"2016-05-04"</span><span class='o'>)</span>, xmax<span class='o'>=</span><span class='nf'><a href='https://rdrr.io/r/base/as.POSIXlt.html'>as.POSIXct</a></span><span class='o'>(</span><span class='s'>"2016-07-19"</span><span class='o'>)</span>, ymin<span class='o'>=</span><span class='o'>-</span><span class='kc'>Inf</span>, ymax<span class='o'>=</span><span class='kc'>Inf</span>, fill <span class='o'>=</span> <span class='s'>'3'</span><span class='o'>)</span>,</span>
<span>            color<span class='o'>=</span> <span class='s'>"black"</span>,</span>
<span>            alpha <span class='o'>=</span> <span class='m'>0.2</span>,</span>
<span>            data <span class='o'>=</span> <span class='nf'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='o'>(</span><span class='o'>)</span>, </span>
<span>            inherit.aes <span class='o'>=</span> <span class='kc'>FALSE</span><span class='o'>)</span><span class='o'>+</span></span>
<span>  <span class='nf'>geom_rect</span><span class='o'>(</span><span class='nf'>aes</span><span class='o'>(</span>xmin<span class='o'>=</span><span class='nf'><a href='https://rdrr.io/r/base/as.POSIXlt.html'>as.POSIXct</a></span><span class='o'>(</span><span class='s'>"2016-07-19"</span><span class='o'>)</span>, xmax<span class='o'>=</span><span class='nf'><a href='https://rdrr.io/r/base/as.POSIXlt.html'>as.POSIXct</a></span><span class='o'>(</span><span class='s'>"2016-11-08"</span><span class='o'>)</span>, ymin<span class='o'>=</span><span class='o'>-</span><span class='kc'>Inf</span>, ymax<span class='o'>=</span><span class='kc'>Inf</span>, fill <span class='o'>=</span> <span class='s'>'4'</span><span class='o'>)</span>,</span>
<span>            color<span class='o'>=</span> <span class='s'>"black"</span>,</span>
<span>            alpha <span class='o'>=</span> <span class='m'>0.2</span>,</span>
<span>            data <span class='o'>=</span> <span class='nf'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='o'>(</span><span class='o'>)</span>,</span>
<span>            inherit.aes <span class='o'>=</span> <span class='kc'>FALSE</span><span class='o'>)</span><span class='o'>+</span></span>
<span>  <span class='nf'>geom_rect</span><span class='o'>(</span><span class='nf'>aes</span><span class='o'>(</span>xmin<span class='o'>=</span><span class='nf'><a href='https://rdrr.io/r/base/as.POSIXlt.html'>as.POSIXct</a></span><span class='o'>(</span><span class='s'>"2016-11-08"</span><span class='o'>)</span>, xmax<span class='o'>=</span><span class='nf'><a href='https://rdrr.io/r/base/as.POSIXlt.html'>as.POSIXct</a></span><span class='o'>(</span><span class='kc'>Inf</span><span class='o'>)</span>, ymin<span class='o'>=</span><span class='o'>-</span><span class='kc'>Inf</span>, ymax<span class='o'>=</span><span class='kc'>Inf</span>, fill <span class='o'>=</span> <span class='s'>'5'</span><span class='o'>)</span>,</span>
<span>            color<span class='o'>=</span> <span class='s'>"black"</span>,</span>
<span>            alpha <span class='o'>=</span> <span class='m'>0.2</span>,</span>
<span>            data <span class='o'>=</span> <span class='nf'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='o'>(</span><span class='o'>)</span>, </span>
<span>            inherit.aes <span class='o'>=</span> <span class='kc'>FALSE</span><span class='o'>)</span><span class='o'>+</span></span>
<span>  <span class='nf'>scale_fill_manual</span><span class='o'>(</span>values <span class='o'>=</span> <span class='nf'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='o'>(</span><span class='s'>'#442288'</span>,<span class='s'>'#6CA2EA'</span>,<span class='s'>'#B5D33D'</span>,<span class='s'>'#FED23F'</span>,<span class='s'>'#EB7D5B'</span><span class='o'>)</span>, </span>
<span>                    labels <span class='o'>=</span> <span class='nf'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='o'>(</span><span class='s'>"Before campaign"</span>,<span class='s'>"Presidential primary campaign"</span>,<span class='s'>"Presumptive nominee"</span>,<span class='s'>"Official nominee"</span>,<span class='s'>"Elected president"</span><span class='o'>)</span><span class='o'>)</span><span class='o'>+</span></span>
<span>  <span class='nf'>labs</span><span class='o'>(</span>fill<span class='o'>=</span><span class='s'>""</span><span class='o'>)</span><span class='o'>+</span></span>
<span>  <span class='nf'>geom_line</span><span class='o'>(</span><span class='o'>)</span><span class='o'>+</span></span>
<span>  <span class='nf'>geom_point</span><span class='o'>(</span><span class='o'>)</span><span class='o'>+</span></span>
<span>  <span class='nf'>ylab</span><span class='o'>(</span>label <span class='o'>=</span> <span class='s'>"Montly tweets"</span><span class='o'>)</span><span class='o'>+</span></span>
<span>  <span class='nf'>xlab</span><span class='o'>(</span>label <span class='o'>=</span> <span class='s'>""</span><span class='o'>)</span></span></code></pre>
<img src="images/periods_sources-1.png" width="700px" style="display: block; margin: auto;" />
</div>
<p>The chart highlights the monthly frequency divided by the three recoded sources. In the first area, &ldquo;Before Campaign&rdquo;, the volume before 2011 (filtered out!) are mostly linked with Trump&rsquo;s media career and general political opinions. In the four years approaching the 16th of June 2015, <a href="https://time.com/3923128/donald-trump-announcement-speech">when Trump announced his Presidential campaign</a>, the political topics overtake the others, simultaneously with an increase in the tweets volume. Throughout the last months of 2015, after the official announcement, it can be observed that Trump&rsquo;s campaign staff, who&rsquo;s tweeting from iPhone devices, started tweeting. During the whole time, the main tweeting source was Android. After the Official nomination, the tweets from Android no longer have the primacy, in favour of those published via iPhone. Lastly, after the presidential election, tweets from &ldquo;Others&rdquo; drops close to zero. Furthermore, the volume of the monthly tweets is reduced.</p>
<h3 id="343">3.4.3</h3>
<p>Did the sentiment and the use of emotional words in the tweets change in the same 5 periods? You can show your results either with tables or charts.</p>
<hr>
<p>For the positive-negative chart, we&rsquo;ll use the same approach used before:</p>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span><span class='nv'>trump</span> <span class='o'>%&gt;%</span> </span>
<span>  <span class='nf'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='o'>(</span><span class='nv'>year</span> <span class='o'>&gt;</span> <span class='s'>'2010'</span><span class='o'>)</span> <span class='o'>%&gt;%</span> </span>
<span>  <span class='nf'>group_by</span><span class='o'>(</span>month <span class='o'>=</span> <span class='nf'>floor_date</span><span class='o'>(</span><span class='nv'>date</span>, unit <span class='o'>=</span> <span class='s'>'month'</span><span class='o'>)</span>, <span class='nv'>year</span> <span class='o'>)</span> <span class='o'>%&gt;%</span></span>
<span>  <span class='nf'>summarise</span><span class='o'>(</span><span class='nf'>across</span><span class='o'>(</span></span>
<span>    .cols <span class='o'>=</span> <span class='nf'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='o'>(</span><span class='nv'>positive</span>,<span class='nv'>negative</span><span class='o'>)</span>,</span>
<span>    .fns <span class='o'>=</span> <span class='nv'>sum</span>,</span>
<span>    .names <span class='o'>=</span> <span class='s'>"&#123;col&#125;"</span></span>
<span>  <span class='o'>)</span><span class='o'>)</span> <span class='o'>%&gt;%</span> </span>
<span>  <span class='nf'>ungroup</span><span class='o'>(</span><span class='o'>)</span> <span class='o'>%&gt;%</span> </span>
<span>  <span class='nf'>pivot_longer</span><span class='o'>(</span><span class='nv'>positive</span><span class='o'>:</span><span class='nv'>negative</span>,</span>
<span>               names_to <span class='o'>=</span> <span class='s'>"sentiment"</span>,</span>
<span>               values_to <span class='o'>=</span> <span class='s'>"count"</span><span class='o'>)</span> <span class='o'>%&gt;%</span> </span>
<span>  <span class='nf'>ggplot</span><span class='o'>(</span><span class='nf'>aes</span><span class='o'>(</span><span class='nv'>month</span>, <span class='nv'>count</span>, color <span class='o'>=</span> <span class='nv'>sentiment</span><span class='o'>)</span><span class='o'>)</span><span class='o'>+</span></span>
<span>  <span class='nf'>geom_rect</span><span class='o'>(</span><span class='nf'>aes</span><span class='o'>(</span>xmin<span class='o'>=</span><span class='nf'><a href='https://rdrr.io/r/base/as.POSIXlt.html'>as.POSIXct</a></span><span class='o'>(</span><span class='o'>-</span><span class='kc'>Inf</span><span class='o'>)</span>, xmax<span class='o'>=</span><span class='nf'><a href='https://rdrr.io/r/base/as.POSIXlt.html'>as.POSIXct</a></span><span class='o'>(</span><span class='s'>"2015-06-16"</span><span class='o'>)</span>, ymin<span class='o'>=</span><span class='o'>-</span><span class='kc'>Inf</span>, ymax<span class='o'>=</span><span class='kc'>Inf</span>, fill <span class='o'>=</span> <span class='s'>'1'</span><span class='o'>)</span>,</span>
<span>            color<span class='o'>=</span> <span class='s'>"black"</span>,</span>
<span>            alpha <span class='o'>=</span> <span class='m'>0.2</span>,</span>
<span>            data <span class='o'>=</span> <span class='nf'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='o'>(</span><span class='o'>)</span>,</span>
<span>            inherit.aes <span class='o'>=</span> <span class='kc'>FALSE</span><span class='o'>)</span><span class='o'>+</span></span>
<span>  <span class='nf'>geom_rect</span><span class='o'>(</span><span class='nf'>aes</span><span class='o'>(</span>xmin<span class='o'>=</span><span class='nf'><a href='https://rdrr.io/r/base/as.POSIXlt.html'>as.POSIXct</a></span><span class='o'>(</span><span class='s'>"2015-06-16"</span><span class='o'>)</span>, xmax<span class='o'>=</span><span class='nf'><a href='https://rdrr.io/r/base/as.POSIXlt.html'>as.POSIXct</a></span><span class='o'>(</span><span class='s'>"2016-05-04"</span><span class='o'>)</span>, ymin<span class='o'>=</span><span class='o'>-</span><span class='kc'>Inf</span>, ymax<span class='o'>=</span><span class='kc'>Inf</span>, fill <span class='o'>=</span> <span class='s'>'2'</span><span class='o'>)</span>,</span>
<span>            color<span class='o'>=</span> <span class='s'>"black"</span>,</span>
<span>            alpha <span class='o'>=</span> <span class='m'>0.2</span>,</span>
<span>            data <span class='o'>=</span> <span class='nf'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='o'>(</span><span class='o'>)</span>,</span>
<span>            inherit.aes <span class='o'>=</span> <span class='kc'>FALSE</span><span class='o'>)</span><span class='o'>+</span></span>
<span>  <span class='nf'>geom_rect</span><span class='o'>(</span><span class='nf'>aes</span><span class='o'>(</span>xmin<span class='o'>=</span><span class='nf'><a href='https://rdrr.io/r/base/as.POSIXlt.html'>as.POSIXct</a></span><span class='o'>(</span><span class='s'>"2016-05-04"</span><span class='o'>)</span>, xmax<span class='o'>=</span><span class='nf'><a href='https://rdrr.io/r/base/as.POSIXlt.html'>as.POSIXct</a></span><span class='o'>(</span><span class='s'>"2016-07-19"</span><span class='o'>)</span>, ymin<span class='o'>=</span><span class='o'>-</span><span class='kc'>Inf</span>, ymax<span class='o'>=</span><span class='kc'>Inf</span>, fill <span class='o'>=</span> <span class='s'>'3'</span><span class='o'>)</span>,</span>
<span>            color<span class='o'>=</span> <span class='s'>"black"</span>,</span>
<span>            alpha <span class='o'>=</span> <span class='m'>0.2</span>,</span>
<span>            data <span class='o'>=</span> <span class='nf'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='o'>(</span><span class='o'>)</span>, </span>
<span>            inherit.aes <span class='o'>=</span> <span class='kc'>FALSE</span><span class='o'>)</span><span class='o'>+</span></span>
<span>  <span class='nf'>geom_rect</span><span class='o'>(</span><span class='nf'>aes</span><span class='o'>(</span>xmin<span class='o'>=</span><span class='nf'><a href='https://rdrr.io/r/base/as.POSIXlt.html'>as.POSIXct</a></span><span class='o'>(</span><span class='s'>"2016-07-19"</span><span class='o'>)</span>, xmax<span class='o'>=</span><span class='nf'><a href='https://rdrr.io/r/base/as.POSIXlt.html'>as.POSIXct</a></span><span class='o'>(</span><span class='s'>"2016-11-08"</span><span class='o'>)</span>, ymin<span class='o'>=</span><span class='o'>-</span><span class='kc'>Inf</span>, ymax<span class='o'>=</span><span class='kc'>Inf</span>, fill <span class='o'>=</span> <span class='s'>'4'</span><span class='o'>)</span>,</span>
<span>            color<span class='o'>=</span> <span class='s'>"black"</span>,</span>
<span>            alpha <span class='o'>=</span> <span class='m'>0.2</span>,</span>
<span>            data <span class='o'>=</span> <span class='nf'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='o'>(</span><span class='o'>)</span>,</span>
<span>            inherit.aes <span class='o'>=</span> <span class='kc'>FALSE</span><span class='o'>)</span><span class='o'>+</span></span>
<span>  <span class='nf'>geom_rect</span><span class='o'>(</span><span class='nf'>aes</span><span class='o'>(</span>xmin<span class='o'>=</span><span class='nf'><a href='https://rdrr.io/r/base/as.POSIXlt.html'>as.POSIXct</a></span><span class='o'>(</span><span class='s'>"2016-11-08"</span><span class='o'>)</span>, xmax<span class='o'>=</span><span class='nf'><a href='https://rdrr.io/r/base/as.POSIXlt.html'>as.POSIXct</a></span><span class='o'>(</span><span class='kc'>Inf</span><span class='o'>)</span>, ymin<span class='o'>=</span><span class='o'>-</span><span class='kc'>Inf</span>, ymax<span class='o'>=</span><span class='kc'>Inf</span>, fill <span class='o'>=</span> <span class='s'>'5'</span><span class='o'>)</span>,</span>
<span>            color<span class='o'>=</span> <span class='s'>"black"</span>,</span>
<span>            alpha <span class='o'>=</span> <span class='m'>0.2</span>,</span>
<span>            data <span class='o'>=</span> <span class='nf'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='o'>(</span><span class='o'>)</span>, </span>
<span>            inherit.aes <span class='o'>=</span> <span class='kc'>FALSE</span><span class='o'>)</span><span class='o'>+</span></span>
<span>  <span class='nf'>scale_fill_manual</span><span class='o'>(</span>values <span class='o'>=</span> <span class='nf'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='o'>(</span><span class='s'>'#442288'</span>,<span class='s'>'#6CA2EA'</span>,<span class='s'>'#B5D33D'</span>,<span class='s'>'#FED23F'</span>,<span class='s'>'#EB7D5B'</span><span class='o'>)</span>, </span>
<span>                    labels <span class='o'>=</span> <span class='nf'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='o'>(</span><span class='s'>"Before campaign"</span>,<span class='s'>"Presidential primary campaign"</span>,<span class='s'>"Presumptive nominee"</span>,<span class='s'>"Official nominee"</span>,<span class='s'>"Elected president"</span><span class='o'>)</span><span class='o'>)</span><span class='o'>+</span></span>
<span>  <span class='nf'>labs</span><span class='o'>(</span>fill<span class='o'>=</span><span class='s'>""</span><span class='o'>)</span><span class='o'>+</span></span>
<span>  <span class='nf'>geom_line</span><span class='o'>(</span><span class='o'>)</span><span class='o'>+</span></span>
<span>  <span class='nf'>geom_point</span><span class='o'>(</span><span class='o'>)</span><span class='o'>+</span></span>
<span>  <span class='nf'>ylab</span><span class='o'>(</span>label <span class='o'>=</span> <span class='s'>"Sentiment words count"</span><span class='o'>)</span><span class='o'>+</span></span>
<span>  <span class='nf'>xlab</span><span class='o'>(</span>label <span class='o'>=</span> <span class='s'>""</span><span class='o'>)</span></span></code></pre>
<img src="images/sentiment_period-1.png" width="700px" style="display: block; margin: auto;" />
</div>
<p>As shown before, negative words are used about half times than positive words. The peaks between the two groups correspond to the peaks in the overall tweeting frequency. Only the months before the Primary campaign the usage of the negative words seems less responsive to the peaks. Lastly, after the official campaign launch, the delta between Positive and Negative words shortens, because there is a reduction of positive words, but the negative one stays around the same frequency</p>
<h3 id="344">3.4.4</h3>
<p>For the emotional words plot, we must change the approach. Since there are eight different emotion variables we need to reduce the elements plotted to improve the readability. For doing so we can remove the background colour for the different political periods, split into two different graphs the negative emotions and the positive emotions and reduce the analysis period to post 2015 (2015 included):</p>
<div class="highlight">
<pre class='chroma'><code class='language-r' data-lang='r'><span><span class='nv'>pos</span> <span class='o'>&lt;-</span> <span class='nv'>trump</span> <span class='o'>%&gt;%</span> </span>
<span>  <span class='nf'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='o'>(</span><span class='nv'>year</span> <span class='o'>&gt;</span> <span class='s'>'2014'</span><span class='o'>)</span> <span class='o'>%&gt;%</span> </span>
<span>  <span class='nf'>group_by</span><span class='o'>(</span>month <span class='o'>=</span> <span class='nf'>floor_date</span><span class='o'>(</span><span class='nv'>date</span>, unit <span class='o'>=</span> <span class='s'>'month'</span><span class='o'>)</span>, <span class='nv'>year</span> <span class='o'>)</span> <span class='o'>%&gt;%</span></span>
<span>  <span class='nf'>summarise</span><span class='o'>(</span><span class='nf'>across</span><span class='o'>(</span></span>
<span>    .cols <span class='o'>=</span> <span class='nf'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='o'>(</span><span class='nv'>anticipation</span>, <span class='nv'>joy</span>, <span class='nv'>surprise</span>, <span class='nv'>trust</span><span class='o'>)</span>,</span>
<span>    .fns <span class='o'>=</span> <span class='nv'>sum</span>,</span>
<span>    .names <span class='o'>=</span> <span class='s'>"&#123;col&#125;"</span></span>
<span>  <span class='o'>)</span><span class='o'>)</span> <span class='o'>%&gt;%</span> </span>
<span>  <span class='nf'>ungroup</span><span class='o'>(</span><span class='o'>)</span> <span class='o'>%&gt;%</span> </span>
<span>  <span class='nf'>pivot_longer</span><span class='o'>(</span><span class='nv'>anticipation</span><span class='o'>:</span><span class='nv'>trust</span>,</span>
<span>               names_to <span class='o'>=</span> <span class='s'>"emotion"</span>,</span>
<span>               values_to <span class='o'>=</span> <span class='s'>"count"</span><span class='o'>)</span> <span class='o'>%&gt;%</span> </span>
<span>  <span class='nf'>group_by</span><span class='o'>(</span><span class='nv'>month</span><span class='o'>)</span> <span class='o'>%&gt;%</span> </span>
<span> <span class='c'># summarise(emotion, percent = count/sum(count)) %&gt;% </span></span>
<span>  <span class='nf'>ggplot</span><span class='o'>(</span><span class='nf'>aes</span><span class='o'>(</span>x <span class='o'>=</span> <span class='nv'>month</span>, y <span class='o'>=</span> <span class='nv'>count</span>, fill <span class='o'>=</span> <span class='nv'>emotion</span><span class='o'>)</span><span class='o'>)</span><span class='o'>+</span></span>
<span>  <span class='nf'>geom_area</span><span class='o'>(</span>alpha <span class='o'>=</span> <span class='m'>0.75</span><span class='o'>)</span><span class='o'>+</span></span>
<span>  <span class='nf'>geom_vline</span><span class='o'>(</span>xintercept <span class='o'>=</span>  <span class='nf'><a href='https://rdrr.io/r/base/as.POSIXlt.html'>as.POSIXct</a></span><span class='o'>(</span><span class='nf'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='o'>(</span><span class='s'>"2015-06-16"</span>,<span class='s'>"2016-05-04"</span><span class='o'>)</span><span class='o'>)</span><span class='o'>)</span><span class='o'>+</span></span>
<span>  <span class='nf'>geom_vline</span><span class='o'>(</span>xintercept <span class='o'>=</span>  <span class='nf'><a href='https://rdrr.io/r/base/as.POSIXlt.html'>as.POSIXct</a></span><span class='o'>(</span><span class='nf'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='o'>(</span><span class='s'>"2015-06-16"</span>, <span class='s'>"2016-05-04"</span>, <span class='s'>"2016-07-19"</span>, <span class='s'>"2016-11-08"</span><span class='o'>)</span><span class='o'>)</span><span class='o'>)</span><span class='o'>+</span></span>
<span>  <span class='nf'>annotate</span><span class='o'>(</span><span class='s'>"text"</span>, x <span class='o'>=</span> <span class='nf'><a href='https://rdrr.io/r/base/as.POSIXlt.html'>as.POSIXct</a></span><span class='o'>(</span><span class='nf'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='o'>(</span><span class='s'>"2015-02-21"</span>, <span class='s'>"2015-07-20"</span>, <span class='s'>"2016-05-24"</span>, <span class='s'>"2016-08-10"</span>, <span class='s'>"2016-11-29"</span><span class='o'>)</span><span class='o'>)</span>, y <span class='o'>=</span> <span class='m'>2000</span>, label <span class='o'>=</span> <span class='nf'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='o'>(</span><span class='s'>"Before"</span>, <span class='s'>"Primary"</span>, <span class='s'>"Presumtive"</span>, <span class='s'>"Official"</span>, <span class='s'>"Election"</span><span class='o'>)</span>,angle <span class='o'>=</span> <span class='m'>270</span><span class='o'>)</span><span class='o'>+</span></span>
<span> </span>
<span>  <span class='nf'>theme</span><span class='o'>(</span>legend.position<span class='o'>=</span><span class='s'>"bottom"</span><span class='o'>)</span></span>
<span><span class='nv'>neg</span> <span class='o'>&lt;-</span> <span class='nv'>trump</span> <span class='o'>%&gt;%</span> </span>
<span>  <span class='nf'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='o'>(</span><span class='nv'>year</span> <span class='o'>&gt;</span> <span class='s'>'2014'</span><span class='o'>)</span> <span class='o'>%&gt;%</span> </span>
<span>  <span class='nf'>group_by</span><span class='o'>(</span>month <span class='o'>=</span> <span class='nf'>floor_date</span><span class='o'>(</span><span class='nv'>date</span>, unit <span class='o'>=</span> <span class='s'>'month'</span><span class='o'>)</span>, <span class='nv'>year</span> <span class='o'>)</span> <span class='o'>%&gt;%</span></span>
<span>  <span class='nf'>summarise</span><span class='o'>(</span><span class='nf'>across</span><span class='o'>(</span></span>
<span>    .cols <span class='o'>=</span> <span class='nf'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='o'>(</span><span class='nv'>anger</span>,<span class='nv'>disgust</span>, <span class='nv'>fear</span>, <span class='nv'>sadness</span><span class='o'>)</span>,</span>
<span>    .fns <span class='o'>=</span> <span class='nv'>sum</span>,</span>
<span>    .names <span class='o'>=</span> <span class='s'>"&#123;col&#125;"</span></span>
<span>  <span class='o'>)</span><span class='o'>)</span> <span class='o'>%&gt;%</span> </span>
<span>  <span class='nf'>ungroup</span><span class='o'>(</span><span class='o'>)</span> <span class='o'>%&gt;%</span> </span>
<span>  <span class='nf'>pivot_longer</span><span class='o'>(</span><span class='nv'>anger</span><span class='o'>:</span><span class='nv'>sadness</span>,</span>
<span>               names_to <span class='o'>=</span> <span class='s'>"emotion"</span>,</span>
<span>               values_to <span class='o'>=</span> <span class='s'>"count"</span><span class='o'>)</span> <span class='o'>%&gt;%</span> </span>
<span>  <span class='nf'>group_by</span><span class='o'>(</span><span class='nv'>month</span><span class='o'>)</span> <span class='o'>%&gt;%</span> </span>
<span> <span class='c'># summarise(emotion, percent = count/sum(count)) %&gt;% </span></span>
<span>  <span class='nf'>ggplot</span><span class='o'>(</span><span class='nf'>aes</span><span class='o'>(</span>x <span class='o'>=</span> <span class='nv'>month</span>, y <span class='o'>=</span> <span class='nv'>count</span>, fill <span class='o'>=</span> <span class='nv'>emotion</span><span class='o'>)</span><span class='o'>)</span><span class='o'>+</span></span>
<span>  <span class='nf'>geom_area</span><span class='o'>(</span>alpha <span class='o'>=</span> <span class='m'>0.75</span><span class='o'>)</span><span class='o'>+</span></span>
<span>  <span class='nf'>geom_vline</span><span class='o'>(</span>xintercept <span class='o'>=</span>  <span class='nf'><a href='https://rdrr.io/r/base/as.POSIXlt.html'>as.POSIXct</a></span><span class='o'>(</span><span class='nf'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='o'>(</span><span class='s'>"2015-06-16"</span>, <span class='s'>"2016-05-04"</span>, <span class='s'>"2016-07-19"</span>, <span class='s'>"2016-11-08"</span><span class='o'>)</span><span class='o'>)</span><span class='o'>)</span><span class='o'>+</span></span>
<span>  <span class='nf'>annotate</span><span class='o'>(</span><span class='s'>"text"</span>, x <span class='o'>=</span> <span class='nf'><a href='https://rdrr.io/r/base/as.POSIXlt.html'>as.POSIXct</a></span><span class='o'>(</span><span class='nf'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='o'>(</span><span class='s'>"2015-01-21"</span>, <span class='s'>"2015-07-20"</span>, <span class='s'>"2016-05-24"</span>, <span class='s'>"2016-08-10"</span>, <span class='s'>"2016-11-29"</span><span class='o'>)</span><span class='o'>)</span>, y <span class='o'>=</span> <span class='m'>850</span>, label <span class='o'>=</span> <span class='nf'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='o'>(</span><span class='s'>"Before"</span>, <span class='s'>"Primary"</span>, <span class='s'>"Presumtive"</span>, <span class='s'>"Official"</span>, <span class='s'>"Election"</span><span class='o'>)</span>,angle <span class='o'>=</span> <span class='m'>270</span><span class='o'>)</span><span class='o'>+</span></span>
<span>  <span class='nf'>ylab</span><span class='o'>(</span><span class='kc'>NULL</span><span class='o'>)</span><span class='o'>+</span></span>
<span>  <span class='nf'>theme</span><span class='o'>(</span>legend.position<span class='o'>=</span><span class='s'>"bottom"</span><span class='o'>)</span></span>
<span></span>
<span><span class='nf'>ggarrange</span><span class='o'>(</span><span class='nv'>pos</span>, <span class='nv'>neg</span>,</span>
<span>          ncol <span class='o'>=</span> <span class='m'>2</span><span class='o'>)</span></span></code></pre>
<img src="images/emotion-1.png" width="700px" style="display: block; margin: auto;" />
</div>
<p>As we saw in the sentiment&rsquo;s plot the positive words are more frequent in the first period. After the official campaign launch the difference decrease. The most relevant peaks occur immediately after the Primary campaign launch, during the primary campaign and before the official nomination and the presidential election.</p>

              


            </div>
          </div>
          <div id="post-footer" class="post-footer main-content-wrap">
            
              
            
            
<div class="post-actions-wrap">
  <nav >
    <ul class="post-actions post-action-nav">
      
        <li class="post-action">
          
            <a class="post-action-btn btn btn--default tooltip--top" href="https://Nico-Casarin.github.io/post/test/" data-tooltip="Test" aria-label=": Test">
          
              <i class="fa fa-angle-left"></i>
              <span class="hide-xs hide-sm text-small icon-ml"></span>
            </a>
        </li>
        <li class="post-action">
          
            <a class="post-action-btn btn btn--disabled">
          
              <span class="hide-xs hide-sm text-small icon-mr"></span>
              <i class="fa fa-angle-right"></i>
            </a>
        </li>
      
    </ul>
  </nav>
<ul class="post-actions post-action-share" >
  
    <li class="post-action hide-lg hide-md hide-sm">
      <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions" aria-label="">
        <i class="fa fa-share-alt" aria-hidden="true"></i>
      </a>
    </li>
    
      <li class="post-action hide-xs">
        <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=https://Nico-Casarin.github.io/post/covfefe/covfefe/" title="" aria-label="">
          <i class="fab fa-twitter" aria-hidden="true"></i>
        </a>
      </li>
    
      <li class="post-action hide-xs">
        <a class="post-action-btn btn btn--default" target="new" href="https://www.linkedin.com/sharing/share-offsite/?url=https://Nico-Casarin.github.io/post/covfefe/covfefe/" title="" aria-label="">
          <i class="fab fa-linkedin" aria-hidden="true"></i>
        </a>
      </li>
    
  
  
  <li class="post-action">
    
      <a class="post-action-btn btn btn--default" href="#top" aria-label="">
      <i class="fa fa-arrow-up" aria-hidden="true"></i>
    
    </a>
  </li>
</ul>
</div>


            
  


          </div>
        </article>
        <footer id="footer" class="main-content-wrap">
  <span class="copyrights">
    &copy; 2022 <a href="https://github.com/Nico-Casarin">Nicola Casarin</a>. 
  </span>
</footer>

      </div>
      <div id="bottom-bar" class="post-bottom-bar" data-behavior="5">
        
<div class="post-actions-wrap">
  <nav >
    <ul class="post-actions post-action-nav">
      
        <li class="post-action">
          
            <a class="post-action-btn btn btn--default tooltip--top" href="https://Nico-Casarin.github.io/post/test/" data-tooltip="Test" aria-label=": Test">
          
              <i class="fa fa-angle-left"></i>
              <span class="hide-xs hide-sm text-small icon-ml"></span>
            </a>
        </li>
        <li class="post-action">
          
            <a class="post-action-btn btn btn--disabled">
          
              <span class="hide-xs hide-sm text-small icon-mr"></span>
              <i class="fa fa-angle-right"></i>
            </a>
        </li>
      
    </ul>
  </nav>
<ul class="post-actions post-action-share" >
  
    <li class="post-action hide-lg hide-md hide-sm">
      <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions" aria-label="">
        <i class="fa fa-share-alt" aria-hidden="true"></i>
      </a>
    </li>
    
      <li class="post-action hide-xs">
        <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=https://Nico-Casarin.github.io/post/covfefe/covfefe/" title="" aria-label="">
          <i class="fab fa-twitter" aria-hidden="true"></i>
        </a>
      </li>
    
      <li class="post-action hide-xs">
        <a class="post-action-btn btn btn--default" target="new" href="https://www.linkedin.com/sharing/share-offsite/?url=https://Nico-Casarin.github.io/post/covfefe/covfefe/" title="" aria-label="">
          <i class="fab fa-linkedin" aria-hidden="true"></i>
        </a>
      </li>
    
  
  
  <li class="post-action">
    
      <a class="post-action-btn btn btn--default" href="#top" aria-label="">
      <i class="fa fa-arrow-up" aria-hidden="true"></i>
    
    </a>
  </li>
</ul>
</div>


      </div>
      
<div id="share-options-bar" class="share-options-bar" data-behavior="5">
  <i id="btn-close-shareoptions" class="fa fa-times"></i>
  <ul class="share-options">
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://twitter.com/intent/tweet?text=https%3A%2F%2FNico-Casarin.github.io%2Fpost%2Fcovfefe%2Fcovfefe%2F" aria-label="">
          <i class="fab fa-twitter" aria-hidden="true"></i><span></span>
        </a>
      </li>
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2FNico-Casarin.github.io%2Fpost%2Fcovfefe%2Fcovfefe%2F" aria-label="">
          <i class="fab fa-linkedin" aria-hidden="true"></i><span></span>
        </a>
      </li>
    
  </ul>
</div>
<div id="share-options-mask" class="share-options-mask"></div>


    </div>
    
    <div id="about">
  <div id="about-card">
    <div id="about-btn-close">
      <i class="fa fa-times"></i>
    </div>
    
    <h4 id="about-card-name">Nicola Casarin</h4>
    
      <div id="about-card-bio">Bio -&gt; WIP</div>
    
    
    
      <div id="about-card-location">
        <i class="fa fa-map-marker-alt"></i>
        <br/>
        Italy
      </div>
    
  </div>
</div>

    

    
  
    
      <div id="cover" style="background-image:url('https://Nico-Casarin.github.io/images/cover.jpg');"></div>
    
  


    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/highlight.min.js" integrity="sha512-z+/WWfyD5tccCukM4VvONpEtLmbAm5LDu7eKiyMQJ9m7OfPEDL7gENyDRL3Yfe8XAuGsS2fS4xSMnl6d30kqGQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js" integrity="sha512-uURl+ZXMBrF4AwGaWmEetzrd+J5/8NRkWAvJx5sbPSSuOb0bZLqf+tOzniObO00BjHa/dD7gub9oCGMLPQHtQA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>


<script src="https://Nico-Casarin.github.io/js/script-yqzy9wdlzix4lbbwdnzvwx3egsne77earqmn73v9uno8aupuph8wfguccut.min.js"></script>


  
    <script async crossorigin="anonymous" defer integrity="sha512-gE8KAQyFIzV1C9+GZ8TKJHZS2s+n7EjNtC+IMRn1l5+WYJTHOODUM6JSjZhFhqXmc7bG8Av6XXpckA4tYhflnw==" src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/apache.min.js"></script>
  

  
    <script async crossorigin="anonymous" defer integrity="sha512-EWROca+bote+7Oaaar1F6y74iZj1r1F9rm/ly7o+/FwJopbBaWtsFDmaKoZDd3QiGU2pGacBirHJNivmGLYrow==" src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/go.min.js"></script>
  

  
    <script async crossorigin="anonymous" defer integrity="sha512-GDVzAn0wpx1yVtQsRWmFc6PhJiLBPdUic+h4GWgljBh904O3JU10fk9EKNpVyIoPqkFn54rgL2QBG4BmUTMpiQ==" src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/http.min.js"></script>
  

  
    <script async crossorigin="anonymous" defer integrity="sha512-UgZlma8NzkrDb/NWgmLIcTrH7i/CSnLLDRFqCSNF5NGPpjKmzyM25qcoXGOup8+cDakKyaiTDd7N4dyH4YT+IA==" src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/less.min.js"></script>
  

  
    <script async crossorigin="anonymous" defer integrity="sha512-lot9koe73sfXIrUvIPM/UEhuMciN56RPyBdOyZgfO53P2lkWyyXN7J+njcxIIBRV+nVDQeiWtiXg+bLAJZDTfg==" src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/nginx.min.js"></script>
  

  
    <script async crossorigin="anonymous" defer integrity="sha512-Zd3e7XxHP00TD0Imr0PIfeM0fl0v95kMWuhyAS3Wn1UTSXTkz0OhtRgBAr4JlmADRgiXr4x7lpeUdqaGN8xIog==" src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/puppet.min.js"></script>
  

  
    <script async crossorigin="anonymous" defer integrity="sha512-qtqDO052iXMSP+5d/aE/jMtL9vIIGvONgTJziC2K/ZIB1yEGa55WVxGE9/08rSQ62EoDifS9SWVGZ7ihSLhzMA==" src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/scss.min.js"></script>
  

  
    <script async crossorigin="anonymous" defer integrity="sha512-1NmkjnEDnwwwcu28KoQF8vs3oaPFokQHbmbtwGhFfeDsQZtVFI8zW2aE9O8yMYdpdyKV/5blE4pSWw4Z/Sv97w==" src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/stylus.min.js"></script>
  

  
    <script async crossorigin="anonymous" defer integrity="sha512-B2wSfruPjr8EJL6IIzQr1eAuDwrsfIfccNf/LCEdxELCgC/S/ZMt/Uvk80aD79m7IqOqW+Sw8nbkvha20yZpzg==" src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/swift.min.js"></script>
  

  
    <script async crossorigin="anonymous" defer integrity="sha512-28oDiQZGKUVN6wQ7PSLPNipOcmkCALXKwOi7bnkyFf8QiMZQxG9EQoy/iiNx6Zxj2cG2SbVa4dXKigQhu7GiFw==" src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/yaml.min.js"></script>
  


<script>
$(document).ready(function() {
  hljs.configure({ classPrefix: '', useBR: false });
  $('pre.code-highlight > code, pre > code').each(function(i, block) {
    if (!$(this).hasClass('codeblock')) {
      $(this).addClass('codeblock');
    }
    hljs.highlightBlock(block);
  });
});
</script>




    
  </body>
</html>

